import{l as B,r as h,g as F,h as A,c as p,b as l,w as n,a,d as k,j as f,t as i,e as _,i as U,o as d,_ as j}from"./CZWfS_om.js";import{u as N}from"./sg5H8QId.js";import{t as O,d as z,p as E}from"./CUcIaLN8.js";import{l as L}from"./BbohOuBu.js";import{V as x,a as R,b as q,c as I,d as r}from"./CWrCp_3L.js";import{V as m}from"./D5-erQMg.js";import{V as G}from"./CqvDWhPt.js";import{V as v}from"./CY3lpLTb.js";import{V as H}from"./B3G0Uc_X.js";import{q as b}from"./Q8ask1Cb.js";import"./rewUZy5u.js";import"./KfaIYWM2.js";import"./D5KU76ay.js";import"./DQRYaji9.js";import"./BLxqPEak.js";const J={class:"text-center"},K={key:1},Q={class:"text-center"},W={key:1},X={class:"text-center"},Y=B({__name:"index",setup(Z){const g=U(),{showConfirm:w,showSuccess:C}=N(),c=h(!1),s=F({name:"",township:null,developmentMethod:null,processingStatus:null}),S=[{title:"土地開發名稱",key:"name",align:"start",sortable:!0},{title:"鄉鎮市區",key:"township"},{title:"開發方式",key:"developmentMethod"},{title:"辦理情形",key:"processingStatus"},{title:"開發期程",key:"timeline"},{title:"開發總面積",key:"totalArea"},{title:"公共設施面積",key:"publicFacilityArea"},{title:"計畫範圍",key:"planningScope"},{title:"坐標",key:"coordinates"},{title:"施工進度",key:"constructionProgress",align:"center"},{title:"預估進度",key:"estimatedProgress",align:"center"},{title:"操作",key:"actions",align:"center",sortable:!1}],V=L,u=h(V),M=(o,e)=>!o||!e?"未設定":`${e.toFixed(6)}, ${o.toFixed(6)}`,D=()=>{g.push("/admin/land-dev/create")},P=o=>{g.push(`/admin/land-dev/edit/${o}`)},y=()=>{c.value=!0,setTimeout(()=>{let o=[...V];s.name&&(o=o.filter(e=>e.name.includes(s.name))),s.township&&(o=o.filter(e=>e.township===s.township)),s.developmentMethod&&(o=o.filter(e=>e.developmentMethod===s.developmentMethod)),s.processingStatus&&(o=o.filter(e=>e.processingStatus===s.processingStatus)),u.value=o,c.value=!1},500)},T=o=>{w("確定要刪除此筆土地開發區資料嗎？","此操作無法復原",()=>{setTimeout(()=>{u.value=u.value.filter(e=>e.id!==o),C("已成功刪除土地開發區資料")},300)})};return A(()=>{y()}),(o,e)=>(d(),p("div",null,[l(x,{class:"mb-4"},{default:n(()=>[l(R,{class:"d-flex justify-space-between align-center flex-column flex-md-row mb-4"},{default:n(()=>[e[5]||(e[5]=a("div",null,"土地開發區管理",-1)),l(m,{color:"primary","prepend-icon":"mdi-plus",onClick:D},{default:n(()=>e[4]||(e[4]=[k(" 新增土地開發區 ")])),_:1})]),_:1}),l(q,null,{default:n(()=>[l(I,null,{default:n(()=>[l(r,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(G,{modelValue:s.name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t),label:"土地開發名稱",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),l(r,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.township,"onUpdate:modelValue":e[1]||(e[1]=t=>s.township=t),label:"鄉鎮市區",items:f(O),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(r,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.developmentMethod,"onUpdate:modelValue":e[2]||(e[2]=t=>s.developmentMethod=t),label:"開發方式",items:f(z),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(r,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.processingStatus,"onUpdate:modelValue":e[3]||(e[3]=t=>s.processingStatus=t),label:"辦理情形",items:f(E),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(r,{cols:"12",class:"d-flex justify-end"},{default:n(()=>[l(m,{color:"primary",onClick:y},{default:n(()=>e[6]||(e[6]=[k(" 搜尋 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(x,null,{default:n(()=>[l(H,{headers:S,items:u.value,"items-per-page":10,class:"elevation-1",loading:c.value,"item-value":"id"},{item:n(({item:t})=>[a("tr",null,[a("td",null,i(t.name),1),a("td",null,i(t.township),1),a("td",null,i(t.developmentMethod),1),a("td",null,i(t.processingStatus),1),a("td",null,i(t.timeline),1),a("td",null,i(t.totalArea||"未設定")+" 公頃",1),a("td",null,i(t.publicFacilityArea||"未設定")+" 公頃",1),a("td",null,i(t.planningScope||"無資料"),1),a("td",null,i(M(t.longitude,t.latitude)),1),a("td",J,[t.constructionProgress!==null?(d(),_(b,{key:0,"model-value":t.constructionProgress,height:"20",color:"primary",class:"mb-1"},{default:n(()=>[a("strong",null,i(t.constructionProgress)+"%",1)]),_:2},1032,["model-value"])):(d(),p("span",K,"未設定"))]),a("td",Q,[t.estimatedProgress!==null?(d(),_(b,{key:0,"model-value":t.estimatedProgress,height:"20",color:"success",class:"mb-1"},{default:n(()=>[a("strong",null,i(t.estimatedProgress)+"%",1)]),_:2},1032,["model-value"])):(d(),p("span",W,"未設定"))]),a("td",X,[l(m,{size:"default",color:"primary",variant:"text",icon:"mdi-pencil-outline",onClick:$=>P(t.id)},null,8,["onClick"]),l(m,{size:"default",color:"error",variant:"text",icon:"mdi-delete-outline",onClick:$=>T(t.id)},null,8,["onClick"])])])]),_:1},8,["items","loading"])]),_:1})]))}}),ve=j(Y,[["__scopeId","data-v-d23f9945"]]);export{ve as default};
