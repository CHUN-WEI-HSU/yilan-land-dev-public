import{d as C,w as x,g as ln,m as Yn,c as hn}from"./Ba_gg6Bw.js";const E={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Jr(n){const r=Sn();for(let t=0,s=n.length;t<s;++t)vn(r,n[t]);return r}function Hn(n,r,t){const s=Math.min.apply(null,n),o=Math.min.apply(null,r),i=Math.max.apply(null,n),c=Math.max.apply(null,r);return z(s,o,i,c,t)}function Qr(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Zr(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function jr(n,r,t){let s,o;return r<n[0]?s=n[0]-r:n[2]<r?s=r-n[2]:s=0,t<n[1]?o=n[1]-t:n[3]<t?o=t-n[3]:o=0,s*s+o*o}function pr(n,r){return Vn(n,r[0],r[1])}function xr(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function Vn(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function gn(n,r){const t=n[0],s=n[1],o=n[2],i=n[3],c=r[0],a=r[1];let f=E.UNKNOWN;return c<t?f=f|E.LEFT:c>o&&(f=f|E.RIGHT),a<s?f=f|E.BELOW:a>i&&(f=f|E.ABOVE),f===E.UNKNOWN&&(f=E.INTERSECTING),f}function Sn(){return[1/0,1/0,-1/0,-1/0]}function z(n,r,t,s,o){return o?(o[0]=n,o[1]=r,o[2]=t,o[3]=s,o):[n,r,t,s]}function sn(n){return z(1/0,1/0,-1/0,-1/0,n)}function nt(n,r){const t=n[0],s=n[1];return z(t,s,t,s,r)}function rt(n,r,t,s,o){const i=sn(o);return zn(i,n,r,t,s)}function tt(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function st(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function vn(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function zn(n,r,t,s,o){for(;t<s;t+=o)Kn(n,r[t],r[t+1]);return n}function Kn(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function ot(n,r){let t;return t=r(Un(n)),t||(t=r(Rn(n)),t)||(t=r(Cn(n)),t)||(t=r(In(n)),t)?t:!1}function it(n){let r=0;return Gn(n)||(r=U(n)*Qn(n)),r}function Un(n){return[n[0],n[1]]}function Rn(n){return[n[2],n[1]]}function kn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function ct(n,r){let t;if(r==="bottom-left")t=Un(n);else if(r==="bottom-right")t=Rn(n);else if(r==="top-left")t=In(n);else if(r==="top-right")t=Cn(n);else throw new Error("Invalid corner");return t}function at(n,r,t,s,o){const[i,c,a,f,e,l,g,u]=Jn(n,r,t,s);return z(Math.min(i,a,e,g),Math.min(c,f,l,u),Math.max(i,a,e,g),Math.max(c,f,l,u),o)}function Jn(n,r,t,s){const o=r*s[0]/2,i=r*s[1]/2,c=Math.cos(t),a=Math.sin(t),f=o*c,e=o*a,l=i*c,g=i*a,u=n[0],h=n[1];return[u-f+g,h-e-l,u-f-g,h-e+l,u+f-g,h+e+l,u+f+g,h+e-l,u-f+g,h-e-l]}function Qn(n){return n[3]-n[1]}function ft(n,r,t){const s=t||Sn();return Zn(n,r)?(n[0]>r[0]?s[0]=n[0]:s[0]=r[0],n[1]>r[1]?s[1]=n[1]:s[1]=r[1],n[2]<r[2]?s[2]=n[2]:s[2]=r[2],n[3]<r[3]?s[3]=n[3]:s[3]=r[3]):sn(s),s}function In(n){return[n[0],n[3]]}function Cn(n){return[n[2],n[3]]}function U(n){return n[2]-n[0]}function Zn(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function Gn(n){return n[2]<n[0]||n[3]<n[1]}function et(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function ut(n,r,t){let s=!1;const o=gn(n,r),i=gn(n,t);if(o===E.INTERSECTING||i===E.INTERSECTING)s=!0;else{const c=n[0],a=n[1],f=n[2],e=n[3],l=r[0],g=r[1],u=t[0],h=t[1],P=(h-g)/(u-l);let w,T;i&E.ABOVE&&!(o&E.ABOVE)&&(w=u-(h-e)/P,s=w>=c&&w<=f),!s&&i&E.RIGHT&&!(o&E.RIGHT)&&(T=h-(u-f)*P,s=T>=a&&T<=e),!s&&i&E.BELOW&&!(o&E.BELOW)&&(w=u-(h-a)/P,s=w>=c&&w<=f),!s&&i&E.LEFT&&!(o&E.LEFT)&&(T=h-(u-c)*P,s=T>=a&&T<=e)}return s}function jn(n,r,t,s){if(Gn(n))return sn(t);let o=[];if(s>1){const a=n[2]-n[0],f=n[3]-n[1];for(let e=0;e<s;++e)o.push(n[0]+a*e/s,n[1],n[2],n[1]+f*e/s,n[2]-a*e/s,n[3],n[0],n[3]-f*e/s)}else o=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(o,o,2);const i=[],c=[];for(let a=0,f=o.length;a<f;a+=2)i.push(o[a]),c.push(o[a+1]);return Hn(i,c,t)}function pn(n,r){const t=r.getExtent(),s=kn(n);if(r.canWrapX()&&(s[0]<t[0]||s[0]>=t[2])){const o=U(t),c=Math.floor((s[0]-t[0])/o)*o;n[0]-=c,n[2]-=c}return n}function lt(n,r,t){if(r.canWrapX()){const s=r.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[s[0],n[1],s[2],n[3]]];pn(n,r);const o=U(s);if(U(n)>o&&!t)return[[s[0],n[1],s[2],n[3]]];if(n[0]<s[0])return[[n[0]+o,n[1],s[2],n[3]],[s[0],n[1],n[2],n[3]]];if(n[2]>s[2])return[[n[0],n[1],s[2],n[3]],[s[0],n[1],n[2]-o,n[3]]]}return[n]}function ht(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function xn(n,r){let t=!0;for(let s=n.length-1;s>=0;--s)if(n[s]!=r[s]){t=!1;break}return t}function gt(n,r){const t=Math.cos(r),s=Math.sin(r),o=n[0]*t-n[1]*s,i=n[1]*t+n[0]*s;return n[0]=o,n[1]=i,n}function Et(n,r){return n[0]*=r,n[1]*=r,n}function mt(n,r){if(r.canWrapX()){const t=U(r.getExtent()),s=yn(n,r,t);s&&(n[0]-=s*t)}return n}function yn(n,r,t){const s=r.getExtent();let o=0;return r.canWrapX()&&(n[0]<s[0]||n[0]>s[2])&&(t=t||U(s),o=Math.floor((n[0]-s[0])/t)),o}const nr=63710088e-1;function En(n,r,t){t=t||nr;const s=C(n[1]),o=C(r[1]),i=(o-s)/2,c=C(r[0]-n[0])/2,a=Math.sin(i)*Math.sin(i)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(o);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function rr(...n){console.warn(...n)}const B={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class K{constructor(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||B[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(r){this.defaultTileGrid_=r}setExtent(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)}setWorldExtent(r){this.worldExtent_=r}setGetPointResolution(r){this.getPointResolutionFunc_=r}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const L=6378137,F=Math.PI*L,tr=[-F,-F,F,F],sr=[-180,-85,180,85],q=L*Math.log(Math.tan(Math.PI/2));class O extends K{constructor(r){super({code:r,units:"m",extent:tr,global:!0,worldExtent:sr,getPointResolution:function(t,s){return t/Math.cosh(s[1]/L)}})}}const mn=[new O("EPSG:3857"),new O("EPSG:102100"),new O("EPSG:102113"),new O("EPSG:900913"),new O("http://www.opengis.net/def/crs/EPSG/0/3857"),new O("http://www.opengis.net/gml/srs/epsg.xml#3857")];function or(n,r,t,s){const o=n.length;t=t>1?t:2,s=s??t,r===void 0&&(t>2?r=n.slice():r=new Array(o));for(let i=0;i<o;i+=s){r[i]=F*n[i]/180;let c=L*Math.log(Math.tan(Math.PI*(+n[i+1]+90)/360));c>q?c=q:c<-q&&(c=-q),r[i+1]=c}return r}function ir(n,r,t,s){const o=n.length;t=t>1?t:2,s=s??t,r===void 0&&(t>2?r=n.slice():r=new Array(o));for(let i=0;i<o;i+=s)r[i]=180*n[i]/F,r[i+1]=360*Math.atan(Math.exp(n[i+1]/L))/Math.PI-90;return r}const cr=6378137,Pn=[-180,-90,180,90],ar=Math.PI*cr/180;class R extends K{constructor(r,t){super({code:r,units:"degrees",extent:Pn,axisOrientation:t,global:!0,metersPerUnit:ar,worldExtent:Pn})}}const dn=[new R("CRS:84"),new R("EPSG:4326","neu"),new R("urn:ogc:def:crs:OGC:1.3:CRS84"),new R("urn:ogc:def:crs:OGC:2:84"),new R("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new R("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new R("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Y={};function fr(){Y={}}function er(n){return Y[n]||Y[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ur(n,r){Y[n]=r}let G={};function lr(){G={}}function y(n,r,t){const s=n.getCode(),o=r.getCode();s in G||(G[s]={}),G[s][o]=t}function j(n,r){return n in G&&r in G[n]?G[n][r]:null}const H=.9996,M=.00669438,k=M*M,J=k*M,I=M/(1-M),Mn=Math.sqrt(1-M),A=(1-Mn)/(1+Mn),On=A*A,on=On*A,cn=on*A,Fn=cn*A,An=1-M/4-3*k/64-5*J/256,hr=3*M/8+3*k/32+45*J/1024,gr=15*k/256+45*J/1024,Er=35*J/3072,mr=3/2*A-27/32*on+269/512*Fn,Pr=21/16*On-55/32*cn,dr=151/96*on-417/128*Fn,Mr=1097/512*cn,V=6378137;function wr(n,r,t){const s=n-5e5,c=(t.north?r:r-1e7)/H/(V*An),a=c+mr*Math.sin(2*c)+Pr*Math.sin(4*c)+dr*Math.sin(6*c)+Mr*Math.sin(8*c),f=Math.sin(a),e=f*f,l=Math.cos(a),g=f/l,u=g*g,h=u*u,P=1-M*e,w=Math.sqrt(1-M*e),T=V/w,$=(1-M)/P,_=I*l**2,N=_*_,S=s/(T*H),D=S*S,X=D*S,en=X*S,un=en*S,qn=un*S,Bn=a-g/$*(D/2-en/24*(5+3*u+10*_-4*N-9*I))+qn/720*(61+90*u+298*_+45*h-252*I-3*N);let Z=(S-X/6*(1+2*u+_)+un/120*(5-2*_+28*u-3*N+8*I+24*h))/l;return Z=x(Z+C(Nn(t.number)),-Math.PI,Math.PI),[ln(Z),ln(Bn)]}const wn=-80,Tn=84,Tr=-180,_r=180;function Sr(n,r,t){n=x(n,Tr,_r),r<wn?r=wn:r>Tn&&(r=Tn);const s=C(r),o=Math.sin(s),i=Math.cos(s),c=o/i,a=c*c,f=a*a,e=C(n),l=Nn(t.number),g=C(l),u=V/Math.sqrt(1-M*o**2),h=I*i**2,P=i*x(e-g,-Math.PI,Math.PI),w=P*P,T=w*P,$=T*P,_=$*P,N=_*P,S=V*(An*s-hr*Math.sin(2*s)+gr*Math.sin(4*s)-Er*Math.sin(6*s)),D=H*u*(P+T/6*(1-a+h)+_/120*(5-18*a+f+72*h-58*I))+5e5;let X=H*(S+u*c*(w/2+$/24*(5-a+9*h+4*h**2)+N/720*(61-58*a+f+600*h-330*I)));return t.north||(X+=1e7),[D,X]}function Nn(n){return(n-1)*6-180+3}const Ur=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Xn(n){let r=0;for(const o of Ur){const i=n.match(o);if(i){r=parseInt(i[1]);break}}if(!r)return null;let t=0,s=!1;return r>32700&&r<32761?t=r-32700:r>32600&&r<32661&&(s=!0,t=r-32600),t?{number:t,north:s}:null}function _n(n,r){return function(t,s,o,i){const c=t.length;o=o>1?o:2,i=i??o,s||(o>2?s=t.slice():s=new Array(c));for(let a=0;a<c;a+=i){const f=t[a],e=t[a+1],l=n(f,e,r);s[a]=l[0],s[a+1]=l[1]}return s}}function Rr(n){return Xn(n)?new K({code:n,units:"m"}):null}function Ir(n){const r=Xn(n.getCode());return r?{forward:_n(Sr,r),inverse:_n(wr,r)}:null}const Cr=[Ir],Gr=[Rr];let nn=!0;function Ln(n){nn=!(n===void 0?!0:n)}function Q(n,r){if(r!==void 0){for(let t=0,s=n.length;t<s;++t)r[t]=n[t];r=r}else r=n.slice();return r}function yr(n,r){if(r!==void 0&&n!==r){for(let t=0,s=n.length;t<s;++t)r[t]=n[t];n=r}return n}function v(n){ur(n.getCode(),n),y(n,n,Q)}function Wn(n){n.forEach(v)}function d(n){if(typeof n!="string")return n;const r=er(n);if(r)return r;for(const t of Gr){const s=t(n);if(s)return s}return null}function Or(n,r,t,s){n=d(n);let o;const i=n.getPointResolutionFunc();if(i){if(o=i(r,t),s&&s!==n.getUnits()){const c=n.getMetersPerUnit();c&&(o=o*c/B[s])}}else{const c=n.getUnits();if(c=="degrees"&&!s||s=="degrees")o=r;else{const a=W(n,d("EPSG:4326"));if(!a&&c!=="degrees")o=r*n.getMetersPerUnit();else{let e=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];e=a(e,e,2);const l=En(e.slice(0,2),e.slice(2,4)),g=En(e.slice(4,6),e.slice(6,8));o=(l+g)/2}const f=s?B[s]:n.getMetersPerUnit();f!==void 0&&(o/=f)}}return o}function rn(n){Wn(n),n.forEach(function(r){n.forEach(function(t){r!==t&&y(r,t,Q)})})}function bn(n,r,t,s){n.forEach(function(o){r.forEach(function(i){y(o,i,t),y(i,o,s)})})}function Fr(){fr(),lr()}function Ar(n,r){return n?typeof n=="string"?d(n):n:d(r)}function tn(n){return function(r,t,s,o){const i=r.length;s=s!==void 0?s:2,o=o??s,t=t!==void 0?t:new Array(i);for(let c=0;c<i;c+=o){const a=n(r.slice(c,c+s)),f=a.length;for(let e=0,l=o;e<l;++e)t[c+e]=e>=f?r[c+e]:a[e]}return t}}function Nr(n,r,t,s){const o=d(n),i=d(r);y(o,i,tn(t)),y(i,o,tn(s))}function Xr(n,r){return Ln(),b(n,"EPSG:4326",r!==void 0?r:"EPSG:3857")}function Lr(n,r){const t=b(n,r!==void 0?r:"EPSG:3857","EPSG:4326"),s=t[0];return(s<-180||s>180)&&(t[0]=Yn(s+180,360)-180),t}function Wr(n,r){if(n===r)return!0;const t=n.getUnits()===r.getUnits();return(n.getCode()===r.getCode()||W(n,r)===Q)&&t}function W(n,r){const t=n.getCode(),s=r.getCode();let o=j(t,s);if(o)return o;let i=null,c=null;for(const f of Cr)i||(i=f(n)),c||(c=f(r));if(!i&&!c)return null;const a="EPSG:4326";if(c)if(i)o=p(i.inverse,c.forward);else{const f=j(t,a);f&&(o=p(f,c.forward))}else{const f=j(a,s);f&&(o=p(i.inverse,f))}return o&&(v(n),v(r),y(n,r,o)),o}function p(n,r){return function(t,s,o,i){return s=n(t,s,o,i),r(s,s,o,i)}}function an(n,r){const t=d(n),s=d(r);return W(t,s)}function b(n,r,t){const s=an(r,t);if(!s){const o=d(r).getCode(),i=d(t).getCode();throw new Error(`No transform available between ${o} and ${i}`)}return s(n,void 0,n.length)}function fn(n,r,t,s){const o=an(r,t);return jn(n,o,void 0,s)}function br(n,r,t){return W(r,t)(n)}let m=null;function $n(n){m=d(n)}function $r(){m=null}function Dr(){return m}function qr(){$n("EPSG:4326")}function Br(n,r){return m?b(n,r,m):n}function Yr(n,r){return m?b(n,m,r):(nn&&!xn(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(nn=!1,rr("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Hr(n,r){return m?fn(n,r,m):n}function Vr(n,r){return m?fn(n,m,r):n}function vr(n,r){if(!m)return n;const t=d(r).getMetersPerUnit(),s=m.getMetersPerUnit();return t&&s?n*t/s:n}function zr(n,r){if(!m)return n;const t=d(r).getMetersPerUnit(),s=m.getMetersPerUnit();return t&&s?n*s/t:n}function Kr(n,r,t){return function(s){let o,i;if(n.canWrapX()){const c=n.getExtent(),a=U(c);s=s.slice(0),i=yn(s,n,a),i&&(s[0]=s[0]-i*a),s[0]=hn(s[0],c[0],c[2]),s[1]=hn(s[1],c[1],c[3]),o=t(s)}else o=t(s);return i&&r.canWrapX()&&(o[0]+=i*U(r.getExtent())),o}}function Dn(){rn(mn),rn(dn),bn(dn,mn,or,ir)}Dn();const Pt=Object.freeze(Object.defineProperty({__proto__:null,METERS_PER_UNIT:B,Projection:K,addCommon:Dn,addCoordinateTransforms:Nr,addEquivalentProjections:rn,addEquivalentTransforms:bn,addProjection:v,addProjections:Wn,clearAllProjections:Fr,clearUserProjection:$r,cloneTransform:Q,createProjection:Ar,createSafeCoordinateTransform:Kr,createTransformFromCoordinateTransform:tn,disableCoordinateWarning:Ln,equivalent:Wr,fromLonLat:Xr,fromUserCoordinate:Yr,fromUserExtent:Vr,fromUserResolution:zr,get:d,getPointResolution:Or,getTransform:an,getTransformFromProjections:W,getUserProjection:Dr,identityTransform:yr,setUserProjection:$n,toLonLat:Lr,toUserCoordinate:Br,toUserExtent:Hr,toUserResolution:vr,transform:b,transformExtent:fn,transformWithProjections:br,useGeographic:qr},Symbol.toStringTag,{value:"Module"}));export{zn as $,ot as A,b as B,Or as C,tn as D,an as E,Cn as F,Rn as G,Un as H,it as I,Jr as J,vn as K,lt as L,B as M,gn as N,Qr as O,Hr as P,W as Q,E as R,Dr as S,xr as T,pn as U,vr as V,jr as W,Ar as X,ht as Y,xn as Z,Ln as _,U as a,ut as a0,et as a1,rt as a2,nt as a3,Vn as a4,Pt as a5,at as b,sn as c,Zr as d,tt as e,Yr as f,ft as g,rr as h,Gn as i,Sn as j,pr as k,Jn as l,Vr as m,In as n,Zn as o,z as p,d as q,gt as r,Et as s,Br as t,Qn as u,ct as v,mt as w,Wr as x,st as y,kn as z};
