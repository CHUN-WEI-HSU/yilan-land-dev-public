import{d as T,X as B,r as v,V as D,o as $,t as M,v as U,z as t,A as a,x as o,B as p,y as n}from"./YeoGQlxj.js";import{u as F}from"./DmeWd6BI.js";import{a as N,b as S,V as x}from"./CB-4H56v.js";import{V as u}from"./DoD1hKfA.js";import{V as j,a as d}from"./CJMqzohf.js";import{d as f,e as E}from"./e7J6kQee.js";import{V as R}from"./CMA_bZ8u.js";import{V as A}from"./B3F3zDWU.js";import"./DggD7ogX.js";import"./baV1Ppzk.js";import"./Dftlftkg.js";import"./Cwa1tBl2.js";import"./ClFE_g48.js";const L={class:"text-center"},O={class:"text-center"},le=T({__name:"index",setup(X){const y=B(),{showConfirm:k,showSuccess:g}=F(),m=v(!1),i=D({name:"",county:"",township:"",status:null}),C=[{text:"規劃中",value:"規劃中"},{text:"進行中",value:"進行中"},{text:"已完成",value:"已完成"}],b=[{title:"土地開發區名稱",key:"name",align:"start",sortable:!0},{title:"縣市",key:"county"},{title:"鄉鎮市區",key:"township"},{title:"開發方式",key:"method"},{title:"狀態",key:"status"},{title:"坐標",key:"coordinates"},{title:"面積",key:"area"},{title:"時程",key:"timeline"},{title:"主辦單位",key:"organizer"},{title:"檔案",key:"files",align:"center"},{title:"操作",key:"actions",align:"center",sortable:!1}],c=v([{id:1,name:"宜蘭市區",township:"宜蘭市",county:"宜蘭縣",method:"公辦市地重劃",status:"規劃中",coordinates:[121.753,24.7547],area:"12.5",timeline:"105年8月至107年12月",organizer:"宜蘭縣政府",files:[{name:"宜蘭市區重劃計畫書.pdf",type:"pdf",size:"2.8 MB"}]},{id:2,name:"羅莊",township:"羅東鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"已完成",coordinates:[121.765,24.672],area:"8.3",timeline:"107年3月至109年6月",organizer:"宜蘭縣政府",files:[{name:"羅莊重劃計畫書.pdf",type:"pdf",size:"3.1 MB"}]}]),h=s=>!s||s.length<2?"未設定":`${s[0].toFixed(4)}, ${s[1].toFixed(4)}`,w=()=>{y.push("/admin/land-dev/create")},_=s=>{y.push(`/admin/land-dev/edit/${s}`)},V=()=>{m.value=!0,setTimeout(()=>{m.value=!1},500)},z=s=>{k("確定要刪除此筆土地開發區資料嗎？","此操作無法復原",()=>{setTimeout(()=>{c.value=c.value.filter(l=>l.id!==s),g("已成功刪除土地開發區資料")},300)})};return $(()=>{V()}),(s,l)=>(U(),M("div",null,[t(x,{class:"mb-4"},{default:a(()=>[t(N,{class:"d-flex justify-space-between align-center flex-column flex-md-row mb-4"},{default:a(()=>[l[5]||(l[5]=o("div",null,"土地開發區管理",-1)),t(u,{color:"primary","prepend-icon":"mdi-plus",onClick:w},{default:a(()=>l[4]||(l[4]=[p(" 新增土地開發區 ")])),_:1})]),_:1}),t(S,null,{default:a(()=>[t(j,null,{default:a(()=>[t(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(f,{modelValue:i.name,"onUpdate:modelValue":l[0]||(l[0]=e=>i.name=e),label:"土地開發區名稱",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(f,{modelValue:i.county,"onUpdate:modelValue":l[1]||(l[1]=e=>i.county=e),label:"縣市",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(f,{modelValue:i.township,"onUpdate:modelValue":l[2]||(l[2]=e=>i.township=e),label:"鄉鎮市區",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(E,{modelValue:i.status,"onUpdate:modelValue":l[3]||(l[3]=e=>i.status=e),label:"狀態",items:C,"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",class:"d-flex justify-end"},{default:a(()=>[t(u,{color:"primary",onClick:V},{default:a(()=>l[6]||(l[6]=[p(" 搜尋 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:a(()=>[t(R,{headers:b,items:c.value,"items-per-page":10,class:"elevation-1",loading:m.value,"item-value":"id"},{item:a(({item:e})=>[o("tr",null,[o("td",null,n(e.name),1),o("td",null,n(e.county),1),o("td",null,n(e.township),1),o("td",null,n(e.method),1),o("td",null,n(e.status),1),o("td",null,n(h(e.coordinates)),1),o("td",null,n(e.area)+" 公頃",1),o("td",null,n(e.timeline),1),o("td",null,n(e.organizer),1),o("td",L,[t(A,{size:"small",color:"info"},{default:a(()=>{var r;return[p(n(((r=e.files)==null?void 0:r.length)||0)+" 個檔案 ",1)]}),_:2},1024)]),o("td",O,[t(u,{size:"default",color:"primary",variant:"text",icon:"mdi-pencil-outline",onClick:r=>_(e.id)},null,8,["onClick"]),t(u,{size:"default",color:"error",variant:"text",icon:"mdi-delete-outline",onClick:r=>z(e.id)},null,8,["onClick"])])])]),_:1},8,["items","loading"])]),_:1})]))}});export{le as default};
