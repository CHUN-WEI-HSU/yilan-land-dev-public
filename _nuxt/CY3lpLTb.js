import{g as ul,h as il,V as Re,i as sl}from"./CqvDWhPt.js";import{p as j,z as Pe,a2 as he,I as Y,m as Z,n as ce,aM as He,q as x,Q as Ge,a as I,y as se,x as ve,Y as rl,ap as Ae,G as M,r as re,H as cl,A as q,b as k,ab as Ie,F as ae,X as dl,f as T,E as be,T as Te,aN as xe,aO as Ue,a5 as vl,N as fl,O as $e,aP as ml,aQ as pe,U as ne,aR as hl,s as Ne,v as Ke,a6 as _e,ay as yl,t as gl,B as Fe,aS as bl,W as Ve,a7 as pl,V as kl,ao as Sl,h as Vl,$ as ge,aT as ze,aU as Cl,d as Il}from"./CZWfS_om.js";import{m as qe,u as We,b as Ee,c as xl,d as wl,e as Pl,f as Al}from"./D5-erQMg.js";import{i as Tl,j as Bl,k as Rl,l as _l,e as Fl,f as zl,V as De}from"./D5KU76ay.js";import{k as je,R as ke,a as Qe,m as Xe,p as El,b as Dl,f as Ol,v as Ll,u as Ml,w as Hl,g as Gl,j as Ul,o as $l,l as Nl,V as me,n as we,z as Kl}from"./Q8ask1Cb.js";import{c as de,d as oe,V as J,a as ql,e as Wl,m as Be,g as jl,f as Ql,u as Xl,b as Yl}from"./rewUZy5u.js";import{u as Se}from"./KfaIYWM2.js";const Ye=Symbol.for("vuetify:selection-control-group"),Je=j({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Y,trueIcon:Y,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:he},...de(),...je(),...Pe()},"SelectionControlGroup"),Jl=j({...Je({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Z()({name:"VSelectionControlGroup",props:Jl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const u=ce(e,"modelValue"),o=He(),f=x(()=>e.id||`v-selection-control-group-${o}`),c=x(()=>e.name||f.value),i=new Set;return rl(Ye,{modelValue:u,forceUpdate:()=>{i.forEach(r=>r())},onForceUpdate:r=>{i.add(r),Ae(()=>{i.delete(r)})}}),Ge({[e.defaultsTarget]:{color:x(()=>e.color),disabled:x(()=>e.disabled),density:x(()=>e.density),error:x(()=>e.error),inline:x(()=>e.inline),modelValue:u,multiple:x(()=>!!e.multiple||e.multiple==null&&Array.isArray(u.value)),name:c,falseIcon:x(()=>e.falseIcon),trueIcon:x(()=>e.trueIcon),readonly:x(()=>e.readonly),ripple:x(()=>e.ripple),type:x(()=>e.type),valueComparator:x(()=>e.valueComparator)}}),oe(()=>{var r;return I("div",{class:ve(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:se(e.style),role:e.type==="radio"?"radiogroup":void 0},[(r=a.default)==null?void 0:r.call(a)])}),{}}});const Ze=j({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...de(),...Je()},"VSelectionControl");function Zl(e){const s=dl(Ye,void 0),{densityClasses:a}=Qe(e),u=ce(e,"modelValue"),o=T(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),f=T(()=>e.falseValue!==void 0?e.falseValue:!1),c=T(()=>!!e.multiple||e.multiple==null&&Array.isArray(u.value)),i=T({get(){const d=s?s.modelValue.value:u.value;return c.value?be(d).some(m=>e.valueComparator(m,o.value)):e.valueComparator(d,o.value)},set(d){if(e.readonly)return;const m=d?o.value:f.value;let V=m;c.value&&(V=d?[...be(u.value),m]:be(u.value).filter(g=>!e.valueComparator(g,o.value))),s?s.modelValue.value=V:u.value=V}}),{textColorClasses:r,textColorStyles:S}=ql(()=>{if(!(e.error||e.disabled))return i.value?e.color:e.baseColor}),{backgroundColorClasses:h,backgroundColorStyles:C}=Wl(()=>i.value&&!e.error&&!e.disabled?e.color:e.baseColor),p=T(()=>i.value?e.trueIcon:e.falseIcon);return{group:s,densityClasses:a,trueValue:o,falseValue:f,model:i,textColorClasses:r,textColorStyles:S,backgroundColorClasses:h,backgroundColorStyles:C,icon:p}}const Oe=Z()({name:"VSelectionControl",directives:{vRipple:ke},inheritAttrs:!1,props:Ze(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:a,slots:u}=s;const{group:o,densityClasses:f,icon:c,model:i,textColorClasses:r,textColorStyles:S,backgroundColorClasses:h,backgroundColorStyles:C,trueValue:p}=Zl(e),d=He(),m=M(!1),V=M(!1),g=re(),P=x(()=>e.id||`input-${d}`),A=x(()=>!e.disabled&&!e.readonly);o==null||o.onForceUpdate(()=>{g.value&&(g.value.checked=i.value)});function O(b){A.value&&(m.value=!0,xe(b.target,":focus-visible")!==!1&&(V.value=!0))}function R(){m.value=!1,V.value=!1}function w(b){b.stopPropagation()}function Q(b){if(!A.value){g.value&&(g.value.checked=i.value);return}e.readonly&&o&&Te(()=>o.forceUpdate()),i.value=b.target.checked}return oe(()=>{var $,H;const b=u.label?u.label({label:e.label,props:{for:P.value}}):e.label,[B,W]=cl(a),z=I("input",q({ref:g,checked:i.value,disabled:!!e.disabled,id:P.value,onBlur:R,onFocus:O,onInput:Q,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:p.value,name:e.name,"aria-checked":e.type==="checkbox"?i.value:void 0},W),null);return I("div",q({class:["v-selection-control",{"v-selection-control--dirty":i.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},f.value,e.class]},B,{style:e.style}),[I("div",{class:ve(["v-selection-control__wrapper",r.value]),style:se(S.value)},[($=u.default)==null?void 0:$.call(u,{backgroundColorClasses:h,backgroundColorStyles:C}),Ie(I("div",{class:["v-selection-control__input"]},[((H=u.input)==null?void 0:H.call(u,{model:i,textColorClasses:r,textColorStyles:S,backgroundColorClasses:h,backgroundColorStyles:C,inputNode:z,icon:c.value,props:{onFocus:O,onBlur:R,id:P.value}}))??I(ae,null,[c.value&&k(J,{key:"icon",icon:c.value},null),z])]),[[ke,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),b&&k(ul,{for:P.value,onClick:w},{default:()=>[b]})])}),{isFocused:m,input:g}}}),et=j({indeterminate:Boolean,indeterminateIcon:{type:Y,default:"$checkboxIndeterminate"},...Ze({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),lt=Z()({name:"VCheckboxBtn",props:et(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{slots:a}=s;const u=ce(e,"indeterminate"),o=ce(e,"modelValue");function f(r){u.value&&(u.value=!1)}const c=x(()=>u.value?e.indeterminateIcon:e.falseIcon),i=x(()=>u.value?e.indeterminateIcon:e.trueIcon);return oe(()=>{const r=Ue(Oe.filterProps(e),["modelValue"]);return k(Oe,q(r,{modelValue:o.value,"onUpdate:modelValue":[S=>o.value=S,f],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:c.value,trueIcon:i.value,"aria-checked":u.value?"mixed":void 0}),a)}),{}}});function tt(e){let{selectedElement:s,containerElement:a,isRtl:u,isHorizontal:o}=e;const f=ye(o,a),c=el(o,u,a),i=ye(o,s),r=ll(o,s),S=i*.4;return c>r?r-S:c+f<r+i?r-f+i+S:c}function at(e){let{selectedElement:s,containerElement:a,isHorizontal:u}=e;const o=ye(u,a),f=ll(u,s),c=ye(u,s);return f-o/2+c/2}function Le(e,s){const a=e?"scrollWidth":"scrollHeight";return(s==null?void 0:s[a])||0}function nt(e,s){const a=e?"clientWidth":"clientHeight";return(s==null?void 0:s[a])||0}function el(e,s,a){if(!a)return 0;const{scrollLeft:u,offsetWidth:o,scrollWidth:f}=a;return e?s?f-o+u:u:a.scrollTop}function ye(e,s){const a=e?"offsetWidth":"offsetHeight";return(s==null?void 0:s[a])||0}function ll(e,s){const a=e?"offsetLeft":"offsetTop";return(s==null?void 0:s[a])||0}const ot=Symbol.for("vuetify:v-slide-group"),tl=j({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ot},nextIcon:{type:Y,default:"$next"},prevIcon:{type:Y,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...de(),...vl({mobile:null}),...Be(),...qe({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Me=Z()({name:"VSlideGroup",props:tl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{isRtl:u}=fl(),{displayClasses:o,mobile:f}=$e(e),c=We(e,e.symbol),i=M(!1),r=M(0),S=M(0),h=M(0),C=T(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:d}=Se(),{resizeRef:m,contentRect:V}=Se(),g=ml(),P=T(()=>({container:p.el,duration:200,easing:"easeOutQuart"})),A=T(()=>c.selected.value.length?c.items.value.findIndex(l=>l.id===c.selected.value[0]):-1),O=T(()=>c.selected.value.length?c.items.value.findIndex(l=>l.id===c.selected.value[c.selected.value.length-1]):-1);if(pe){let l=-1;ne(()=>[c.selected.value,d.value,V.value,C.value],()=>{cancelAnimationFrame(l),l=requestAnimationFrame(()=>{if(d.value&&V.value){const n=C.value?"width":"height";S.value=d.value[n],h.value=V.value[n],i.value=S.value+1<h.value}if(A.value>=0&&m.el){const n=m.el.children[O.value];w(n,e.centerActive)}})})}const R=M(!1);function w(l,n){let v=0;n?v=at({containerElement:p.el,isHorizontal:C.value,selectedElement:l}):v=tt({containerElement:p.el,isHorizontal:C.value,isRtl:u.value,selectedElement:l}),Q(v)}function Q(l){if(!pe||!p.el)return;const n=ye(C.value,p.el),v=el(C.value,u.value,p.el);if(!(Le(C.value,p.el)<=n||Math.abs(l-v)<16)){if(C.value&&u.value&&p.el){const{scrollWidth:y,offsetWidth:_}=p.el;l=y-_-l}C.value?g.horizontal(l,P.value):g(l,P.value)}}function b(l){const{scrollTop:n,scrollLeft:v}=l.target;r.value=C.value?v:n}function B(l){if(R.value=!0,!(!i.value||!m.el)){for(const n of l.composedPath())for(const v of m.el.children)if(v===n){w(v);return}}}function W(l){R.value=!1}let z=!1;function $(l){var n;!z&&!R.value&&!(l.relatedTarget&&((n=m.el)!=null&&n.contains(l.relatedTarget)))&&N(),z=!1}function H(){z=!0}function ee(l){if(!m.el)return;function n(v){l.preventDefault(),N(v)}C.value?l.key==="ArrowRight"?n(u.value?"prev":"next"):l.key==="ArrowLeft"&&n(u.value?"next":"prev"):l.key==="ArrowDown"?n("next"):l.key==="ArrowUp"&&n("prev"),l.key==="Home"?n("first"):l.key==="End"&&n("last")}function L(l,n){if(!l)return;let v=l;do v=v==null?void 0:v[n==="next"?"nextElementSibling":"previousElementSibling"];while(v!=null&&v.hasAttribute("disabled"));return v}function N(l){if(!m.el)return;let n;if(!l)n=hl(m.el)[0];else if(l==="next"){if(n=L(m.el.querySelector(":focus"),l),!n)return N("first")}else if(l==="prev"){if(n=L(m.el.querySelector(":focus"),l),!n)return N("last")}else l==="first"?(n=m.el.firstElementChild,n!=null&&n.hasAttribute("disabled")&&(n=L(n,"next"))):l==="last"&&(n=m.el.lastElementChild,n!=null&&n.hasAttribute("disabled")&&(n=L(n,"prev")));n&&n.focus({preventScroll:!0})}function K(l){const n=C.value&&u.value?-1:1,v=(l==="prev"?-n:n)*S.value;let G=r.value+v;if(C.value&&u.value&&p.el){const{scrollWidth:y,offsetWidth:_}=p.el;G+=y-_}Q(G)}const ue=T(()=>({next:c.next,prev:c.prev,select:c.select,isSelected:c.isSelected})),le=T(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!f.value;case!0:return i.value||Math.abs(r.value)>0;case"mobile":return f.value||i.value||Math.abs(r.value)>0;default:return!f.value&&(i.value||Math.abs(r.value)>0)}}),ie=T(()=>Math.abs(r.value)>1),t=T(()=>{if(!p.value)return!1;const l=Le(C.value,p.el),n=nt(C.value,p.el);return l-n-Math.abs(r.value)>1});return oe(()=>k(e.tag,{class:ve(["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":le.value,"v-slide-group--is-overflowing":i.value},o.value,e.class]),style:se(e.style),tabindex:R.value||c.selected.value.length?-1:0,onFocus:$},{default:()=>{var l,n,v;return[le.value&&I("div",{key:"prev",class:ve(["v-slide-group__prev",{"v-slide-group__prev--disabled":!ie.value}]),onMousedown:H,onClick:()=>ie.value&&K("prev")},[((l=a.prev)==null?void 0:l.call(a,ue.value))??k(Ee,null,{default:()=>[k(J,{icon:u.value?e.nextIcon:e.prevIcon},null)]})]),I("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:b},[I("div",{ref:m,class:"v-slide-group__content",onFocusin:B,onFocusout:W,onKeydown:ee},[(n=a.default)==null?void 0:n.call(a,ue.value)])]),le.value&&I("div",{key:"next",class:ve(["v-slide-group__next",{"v-slide-group__next--disabled":!t.value}]),onMousedown:H,onClick:()=>t.value&&K("next")},[((v=a.next)==null?void 0:v.call(a,ue.value))??k(Ee,null,{default:()=>[k(J,{icon:u.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:c.selected,scrollTo:K,scrollOffset:r,focus:N,hasPrev:ie,hasNext:t}}}),al=Symbol.for("vuetify:v-chip-group"),ut=j({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:he},...tl(),...de(),...qe({selectedClass:"v-chip--selected"}),...Be(),...Pe(),...Xe({variant:"tonal"})},"VChipGroup");Z()({name:"VChipGroup",props:ut(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{themeClasses:u}=Ne(e),{isSelected:o,select:f,next:c,prev:i,selected:r}=We(e,al);return Ge({VChip:{baseColor:x(()=>e.baseColor),color:x(()=>e.color),disabled:x(()=>e.disabled),filter:x(()=>e.filter),variant:x(()=>e.variant)}}),oe(()=>{const S=Me.filterProps(e);return k(Me,q(S,{class:["v-chip-group",{"v-chip-group--column":e.column},u.value,e.class],style:e.style}),{default:()=>{var h;return[(h=a.default)==null?void 0:h.call(a,{isSelected:o,select:f,next:c,prev:i,selected:r.value})]}})}),{}}});const it=j({activeClass:String,appendAvatar:String,appendIcon:Y,baseColor:String,closable:Boolean,closeIcon:{type:Y,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Y,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Y,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:_e(),onClickOnce:_e(),...$l(),...de(),...je(),...Ul(),...wl(),...Gl(),...Hl(),...Ql(),...Be({tag:"span"}),...Pe(),...Xe({variant:"tonal"})},"VChip"),st=Z()({name:"VChip",directives:{vRipple:ke},props:it(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:a,emit:u,slots:o}=s;const{t:f}=Ke(),{borderClasses:c}=El(e),{densityClasses:i}=Qe(e),{elevationClasses:r}=Dl(e),{roundedClasses:S}=Ol(e),{sizeClasses:h}=jl(e),{themeClasses:C}=Ne(e),p=ce(e,"modelValue"),d=xl(e,al,!1),m=Ll(e,a),V=x(()=>e.link!==!1&&m.isLink.value),g=T(()=>!e.disabled&&e.link!==!1&&(!!d||e.link||m.isClickable.value)),P=x(()=>({"aria-label":f(e.closeLabel),onClick(b){b.preventDefault(),b.stopPropagation(),p.value=!1,u("click:close",b)}})),{colorClasses:A,colorStyles:O,variantClasses:R}=Ml(()=>({color:!d||d.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function w(b){var B;u("click",b),g.value&&((B=m.navigate)==null||B.call(m,b),d==null||d.toggle())}function Q(b){(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),w(b))}return()=>{var L;const b=m.isLink.value?"a":e.tag,B=!!(e.appendIcon||e.appendAvatar),W=!!(B||o.append),z=!!(o.close||e.closable),$=!!(o.filter||e.filter)&&d,H=!!(e.prependIcon||e.prependAvatar),ee=!!(H||o.prepend);return p.value&&Ie(k(b,q({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":g.value,"v-chip--filter":$,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((L=m.isActive)==null?void 0:L.value)},C.value,c.value,A.value,i.value,r.value,S.value,h.value,R.value,d==null?void 0:d.selectedClass.value,e.class],style:[O.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:g.value?0:void 0,onClick:w,onKeydown:g.value&&!V.value&&Q},m.linkProps),{default:()=>{var N;return[Nl(g.value,"v-chip"),$&&k(Pl,{key:"filter"},{default:()=>[Ie(I("div",{class:"v-chip__filter"},[o.filter?k(me,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},o.filter):k(J,{key:"filter-icon",icon:e.filterIcon},null)]),[[yl,d.isSelected.value]])]}),ee&&I("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?k(me,{key:"prepend-defaults",disabled:!H,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):I(ae,null,[e.prependIcon&&k(J,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&k(we,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),I("div",{class:"v-chip__content","data-no-activator":""},[((N=o.default)==null?void 0:N.call(o,{isSelected:d==null?void 0:d.isSelected.value,selectedClass:d==null?void 0:d.selectedClass.value,select:d==null?void 0:d.select,toggle:d==null?void 0:d.toggle,value:d==null?void 0:d.value.value,disabled:e.disabled}))??gl(e.text)]),W&&I("div",{key:"append",class:"v-chip__append"},[o.append?k(me,{key:"append-defaults",disabled:!B,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):I(ae,null,[e.appendIcon&&k(J,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&k(we,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),z&&I("button",q({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},P.value),[o.close?k(me,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):k(J,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ke,g.value&&e.ripple,null]])}}}),rt=j({renderless:Boolean,...de()},"VVirtualScrollItem"),ct=Z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:rt(),emits:{"update:height":e=>!0},setup(e,s){let{attrs:a,emit:u,slots:o}=s;const{resizeRef:f,contentRect:c}=Se(void 0,"border");ne(()=>{var i;return(i=c.value)==null?void 0:i.height},i=>{i!=null&&u("update:height",i)}),oe(()=>{var i,r;return e.renderless?I(ae,null,[(i=o.default)==null?void 0:i.call(o,{itemRef:f})]):I("div",q({ref:f,class:["v-virtual-scroll__item",e.class],style:e.style},a),[(r=o.default)==null?void 0:r.call(o)])})}}),dt=-1,vt=1,Ce=100,ft=j({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function mt(e,s){const a=$e(),u=M(0);Fe(()=>{u.value=parseFloat(e.itemHeight||0)});const o=M(0),f=M(Math.ceil((parseInt(e.height)||a.height.value)/(u.value||16))||1),c=M(0),i=M(0),r=re(),S=re();let h=0;const{resizeRef:C,contentRect:p}=Se();Fe(()=>{C.value=r.value});const d=T(()=>{var t;return r.value===document.documentElement?a.height.value:((t=p.value)==null?void 0:t.height)||parseInt(e.height)||0}),m=T(()=>!!(r.value&&S.value&&d.value&&u.value));let V=Array.from({length:s.value.length}),g=Array.from({length:s.value.length});const P=M(0);let A=-1;function O(t){return V[t]||u.value}const R=bl(()=>{const t=performance.now();g[0]=0;const l=s.value.length;for(let n=1;n<=l-1;n++)g[n]=(g[n-1]||0)+O(n-1);P.value=Math.max(P.value,performance.now()-t)},P),w=ne(m,t=>{t&&(w(),h=S.value.offsetTop,R.immediate(),K(),~A&&Te(()=>{pe&&window.requestAnimationFrame(()=>{le(A),A=-1})}))});Ae(()=>{R.clear()});function Q(t,l){const n=V[t],v=u.value;u.value=v?Math.min(u.value,l):l,(n!==l||v!==u.value)&&(V[t]=l,R())}function b(t){return t=Ve(t,0,s.value.length-1),g[t]||0}function B(t){return ht(g,t)}let W=0,z=0,$=0;ne(d,(t,l)=>{l&&(K(),t<l&&requestAnimationFrame(()=>{z=0,K()}))});let H=-1;function ee(){if(!r.value||!S.value)return;const t=r.value.scrollTop,l=performance.now();l-$>500?(z=Math.sign(t-W),h=S.value.offsetTop):z=t-W,W=t,$=l,window.clearTimeout(H),H=window.setTimeout(L,500),K()}function L(){!r.value||!S.value||(z=0,$=0,window.clearTimeout(H),K())}let N=-1;function K(){cancelAnimationFrame(N),N=requestAnimationFrame(ue)}function ue(){if(!r.value||!d.value)return;const t=W-h,l=Math.sign(z),n=Math.max(0,t-Ce),v=Ve(B(n),0,s.value.length),G=t+d.value+Ce,y=Ve(B(G)+1,v+1,s.value.length);if((l!==dt||v<o.value)&&(l!==vt||y>f.value)){const _=b(o.value)-b(v),U=b(y)-b(f.value);Math.max(_,U)>Ce?(o.value=v,f.value=y):(v<=0&&(o.value=v),y>=s.value.length&&(f.value=y))}c.value=b(o.value),i.value=b(s.value.length)-b(f.value)}function le(t){const l=b(t);!r.value||t&&!l?A=t:r.value.scrollTop=l}const ie=T(()=>s.value.slice(o.value,f.value).map((t,l)=>{const n=l+o.value;return{raw:t,index:n,key:pl(t,e.itemKey,n)}}));return ne(s,()=>{V=Array.from({length:s.value.length}),g=Array.from({length:s.value.length}),R.immediate(),K()},{deep:1}),{calculateVisibleItems:K,containerRef:r,markerRef:S,computedItems:ie,paddingTop:c,paddingBottom:i,scrollToIndex:le,handleScroll:ee,handleScrollend:L,handleItemResize:Q}}function ht(e,s){let a=e.length-1,u=0,o=0,f=null,c=-1;if(e[a]<s)return a;for(;u<=a;)if(o=u+a>>1,f=e[o],f>s)a=o-1;else if(f<s)c=o,u=o+1;else return f===s?o:u;return c}const yt=j({items:{type:Array,default:()=>[]},renderless:Boolean,...ft(),...de(),...Yl()},"VVirtualScroll"),gt=Z()({name:"VVirtualScroll",props:yt(),setup(e,s){let{slots:a}=s;const u=kl("VVirtualScroll"),{dimensionStyles:o}=Xl(e),{calculateVisibleItems:f,containerRef:c,markerRef:i,handleScroll:r,handleScrollend:S,handleItemResize:h,scrollToIndex:C,paddingTop:p,paddingBottom:d,computedItems:m}=mt(e,x(()=>e.items));return Sl(()=>e.renderless,()=>{function V(){var A,O;const P=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[P]("scroll",r,{passive:!0}),document[P]("scrollend",S)):((A=c.value)==null||A[P]("scroll",r,{passive:!0}),(O=c.value)==null||O[P]("scrollend",S))}Vl(()=>{c.value=Tl(u.vnode.el,!0),V(!0)}),Ae(V)}),oe(()=>{const V=m.value.map(g=>k(ct,{key:g.key,renderless:e.renderless,"onUpdate:height":P=>h(g.index,P)},{default:P=>{var A;return(A=a.default)==null?void 0:A.call(a,{item:g.raw,index:g.index,...P})}}));return e.renderless?I(ae,null,[I("div",{ref:i,class:"v-virtual-scroll__spacer",style:se({paddingTop:ge(p.value)})},null),V,I("div",{class:"v-virtual-scroll__spacer",style:se({paddingBottom:ge(d.value)})},null)]):I("div",{ref:c,class:ve(["v-virtual-scroll",e.class]),onScrollPassive:r,onScrollend:S,style:se([o.value,e.style])},[I("div",{ref:i,class:"v-virtual-scroll__container",style:se({paddingTop:ge(p.value),paddingBottom:ge(d.value)})},[V])])}),{calculateVisibleItems:f,scrollToIndex:C}}});function bt(e,s){const a=M(!1);let u;function o(i){cancelAnimationFrame(u),a.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{a.value=!1})})}async function f(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(a.value){const r=ne(a,()=>{r(),i()})}else i()})}async function c(i){var h,C;if(i.key==="Tab"&&((h=s.value)==null||h.focus()),!["PageDown","PageUp","Home","End"].includes(i.key))return;const r=(C=e.value)==null?void 0:C.$el;if(!r)return;(i.key==="Home"||i.key==="End")&&r.scrollTo({top:i.key==="Home"?0:r.scrollHeight,behavior:"smooth"}),await f();const S=r.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const p=r.getBoundingClientRect().top;for(const d of S)if(d.getBoundingClientRect().top>=p){d.focus();break}}else{const p=r.getBoundingClientRect().bottom;for(const d of[...S].reverse())if(d.getBoundingClientRect().bottom<=p){d.focus();break}}}return{onScrollPassive:o,onKeydown:c}}const pt=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Y,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,..._l({itemChildren:!1})},"Select"),kt=j({...pt(),...Ue(sl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Kl({transition:{component:Rl}})},"VSelect"),At=Z()({name:"VSelect",props:kt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:a}=s;const{t:u}=Ke(),o=re(),f=re(),c=re(),{items:i,transformIn:r,transformOut:S}=Bl(e),h=ce(e,"modelValue",[],t=>r(t===null?[null]:be(t)),t=>{const l=S(t);return e.multiple?l:l[0]??null}),C=T(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),p=il(e),d=T(()=>h.value.map(t=>t.value)),m=M(!1);let V="",g=-1,P;const A=T(()=>e.hideSelected?i.value.filter(t=>!h.value.some(l=>(e.valueComparator||he)(l,t))):i.value),O=T(()=>e.hideNoData&&!A.value.length||p.isReadonly.value||p.isDisabled.value),R=ce(e,"menu"),w=T({get:()=>R.value,set:t=>{var l;R.value&&!t&&((l=f.value)!=null&&l.ΨopenChildren.size)||t&&O.value||(R.value=t)}}),Q=x(()=>w.value?e.closeText:e.openText),b=T(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),B=re(),W=bt(B,o);function z(t){e.openOnClear&&(w.value=!0)}function $(){O.value||(w.value=!w.value)}function H(t){ze(t)&&ee(t)}function ee(t){var F,te,E;if(!t.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(w.value=!0),["Escape","Tab"].includes(t.key)&&(w.value=!1),t.key==="Home"?(F=B.value)==null||F.focus("first"):t.key==="End"&&((te=B.value)==null||te.focus("last"));const l=1e3;if(!ze(t))return;const n=performance.now();n-P>l&&(V="",g=-1),V+=t.key.toLowerCase(),P=n;const v=A.value;function G(){let D=y();return D||V.at(-1)===V.at(-2)&&(V=V.slice(0,-1),D=y(),D)||(g=-1,D=y(),D)?D:(V=t.key.toLowerCase(),y())}function y(){for(let D=g+1;D<v.length;D++){const fe=v[D];if(fe.title.toLowerCase().startsWith(V))return[fe,D]}}const _=G();if(!_)return;const[U,X]=_;g=X,(E=B.value)==null||E.focus(X),e.multiple||(h.value=[U])}function L(t){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const n=h.value.findIndex(G=>(e.valueComparator||he)(G.value,t.value)),v=l??!~n;if(~n){const G=v?[...h.value,t]:[...h.value];G.splice(n,1),h.value=G}else v&&(h.value=[...h.value,t])}else{const n=l!==!1;h.value=n?[t]:[],Te(()=>{w.value=!1})}}function N(t){var l;(l=B.value)!=null&&l.$el.contains(t.relatedTarget)||(w.value=!1)}function K(){var t;e.eager&&((t=c.value)==null||t.calculateVisibleItems())}function ue(){var t;m.value&&((t=o.value)==null||t.focus())}function le(t){m.value=!0}function ie(t){if(t==null)h.value=[];else if(xe(o.value,":autofill")||xe(o.value,":-webkit-autofill")){const l=i.value.find(n=>n.title===t);l&&L(l)}else o.value&&(o.value.value="")}return ne(w,()=>{if(!e.hideSelected&&w.value&&h.value.length){const t=A.value.findIndex(l=>h.value.some(n=>(e.valueComparator||he)(n.value,l.value)));pe&&window.requestAnimationFrame(()=>{var l;t>=0&&((l=c.value)==null||l.scrollToIndex(t))})}}),ne(()=>e.items,(t,l)=>{w.value||m.value&&!l.length&&t.length&&(w.value=!0)}),oe(()=>{const t=!!(e.chips||a.chip),l=!!(!e.hideNoData||A.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),n=h.value.length>0,v=Re.filterProps(e),G=n||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return k(Re,q({ref:o},v,{modelValue:h.value.map(y=>y.props.value).join(", "),"onUpdate:modelValue":ie,focused:m.value,"onUpdate:focused":y=>m.value=y,validationValue:h.externalValue,counterValue:C.value,dirty:n,class:["v-select",{"v-select--active-menu":w.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:G,"onClick:clear":z,"onMousedown:control":$,onBlur:N,onKeydown:ee,"aria-label":u(Q.value),title:u(Q.value)}),{...a,default:()=>I(ae,null,[k(Fl,q({ref:f,modelValue:w.value,"onUpdate:modelValue":y=>w.value=y,activator:"parent",contentClass:"v-select__content",disabled:O.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:K,onAfterLeave:ue},b.value),{default:()=>[l&&k(zl,q({ref:B,selected:d.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:y=>y.preventDefault(),onKeydown:H,onFocusin:le,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},W,e.listProps),{default:()=>{var y,_,U;return[(y=a["prepend-item"])==null?void 0:y.call(a),!A.value.length&&!e.hideNoData&&(((_=a["no-data"])==null?void 0:_.call(a))??k(De,{key:"no-data",title:u(e.noDataText)},null)),k(gt,{ref:c,renderless:!0,items:A.value,itemKey:"value"},{default:X=>{var fe;let{item:F,index:te,itemRef:E}=X;const D=q(F.props,{ref:E,key:F.value,onClick:()=>L(F,null)});return((fe=a.item)==null?void 0:fe.call(a,{item:F,index:te,props:D}))??k(De,q(D,{role:"option"}),{prepend:nl=>{let{isSelected:ol}=nl;return I(ae,null,[e.multiple&&!e.hideSelected?k(lt,{key:F.value,modelValue:ol,ripple:!1,tabindex:"-1"},null):void 0,F.props.prependAvatar&&k(we,{image:F.props.prependAvatar},null),F.props.prependIcon&&k(J,{icon:F.props.prependIcon},null)])}})}}),(U=a["append-item"])==null?void 0:U.call(a)]}})]}),h.value.map((y,_)=>{function U(E){E.stopPropagation(),E.preventDefault(),L(y,!1)}const X={"onClick:close":U,onKeydown(E){E.key!=="Enter"&&E.key!==" "||(E.preventDefault(),E.stopPropagation(),U(E))},onMousedown(E){E.preventDefault(),E.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},F=t?!!a.chip:!!a.selection,te=F?Cl(t?a.chip({item:y,index:_,props:X}):a.selection({item:y,index:_})):void 0;if(!(F&&!te))return I("div",{key:y.value,class:"v-select__selection"},[t?a.chip?k(me,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:y.title}}},{default:()=>[te]}):k(st,q({key:"chip",closable:e.closableChips,size:"small",text:y.title,disabled:y.props.disabled},X),null):te??I("span",{class:"v-select__selection-text"},[y.title,e.multiple&&_<h.value.length-1&&I("span",{class:"v-select__selection-comma"},[Il(",")])])])})]),"append-inner":function(){var X,F;for(var y=arguments.length,_=new Array(y),U=0;U<y;U++)_[U]=arguments[U];return I(ae,null,[(X=a["append-inner"])==null?void 0:X.call(a,..._),e.menuIcon?k(J,{class:"v-select__menu-icon",color:(F=o.value)==null?void 0:F.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Al({isFocused:m,menu:w,select:L},o)}});export{At as V,st as a,lt as b};
