import{j as S,c as G,a1 as X,q as Y,u as g,E as p,a2 as F,z as E,a3 as T,a4 as M}from"./1jRA9jIJ.js";import{b as N}from"./Ba_gg6Bw.js";import{m as v,b as o}from"./CBsAYBMq.js";import{B as j}from"./BBoprNr9.js";import{c as R,a as _}from"./C3jLKcSw.js";import{t as x,r as b,s as O,a as P}from"./CiY_2Xgg.js";const C=_(),L=[NaN,NaN];class q extends j{constructor(){super(),this.extent_=S(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=v((t,e,i)=>{if(!i)return this.getSimplifiedGeometry(e);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return o()}closestPointXY(t,e,i,s){return o()}containsXY(t,e){return this.closestPointXY(t,e,L,Number.MIN_VALUE)===0}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return o()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&G(e),this.extentRevision_=this.getRevision()}return X(this.extent_,t)}rotate(t,e){o()}scale(t,e,i){o()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return o()}getType(){return o()}applyTransform(t){o()}intersectsExtent(t){return o()}translate(t,e){o()}transform(t,e){const i=Y(t),s=i.getUnits()=="tile-pixels"?function(n,l,a){const h=i.getExtent(),d=i.getWorldExtent(),m=g(d)/g(h);R(C,d[0],d[3],m,-m,0,0,0);const f=x(n,0,n.length,a,C,l),u=p(i,e);return u?u(f,f,a):f}:p(i,e);return this.applyTransform(s),this}}class I extends q{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return F(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return o()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=y(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){o()}setLayout(t,e,i){let s;if(t)s=y(t);else{for(let n=0;n<i;++n){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}s=e.length,t=U(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const s=this.getStride();b(i,0,i.length,s,t,e,i),this.changed()}}scale(t,e,i){e===void 0&&(e=t),i||(i=E(this.getExtent()));const s=this.getFlatCoordinates();if(s){const n=this.getStride();O(s,0,s.length,n,t,e,i,s),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const s=this.getStride();P(i,0,i.length,s,t,e,i),this.changed()}}}function U(r){let t;return r==2?t="XY":r==3?t="XYZ":r==4&&(t="XYZM"),t}function y(r){let t;return r=="XY"?t=2:r=="XYZ"||r=="XYM"?t=3:r=="XYZM"&&(t=4),t}function H(r,t,e){const i=r.getFlatCoordinates();if(!i)return null;const s=r.getStride();return x(i,0,i.length,s,t,e)}function Z(r,t,e,i){for(let s=0,n=e.length;s<n;++s)r[t++]=e[s];return t}function D(r,t,e,i){for(let s=0,n=e.length;s<n;++s){const l=e[s];for(let a=0;a<i;++a)r[t++]=l[a]}return t}function V(r,t,e,i,s){s=s||[];let n=0;for(let l=0,a=e.length;l<a;++l){const h=D(r,t,e[l],i);s[n++]=h,t=h}return s.length=n,s}class c extends I{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new c(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){const n=this.flatCoordinates,l=N(t,e,n[0],n[1]);if(l<s){const a=this.stride;for(let h=0;h<a;++h)i[h]=n[h];return i.length=a,l}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return T(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return M(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Z(this.flatCoordinates,0,t,this.stride),this.changed()}}const k=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,{value:"Module"}));export{c as P,I as S,V as a,k as b,D as d,H as t};
