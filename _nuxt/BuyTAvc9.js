import{z as $,r as h,B as F,C as A,c as p,b as l,w as n,a,d as k,E as f,t as i,e as _,D as U,o as r,_ as z}from"./X6HiR9a0.js";import{u as E}from"./C2tWarCO.js";import{t as N,d as O,p as j}from"./CUcIaLN8.js";import{l as L}from"./BbohOuBu.js";import{V as x,a as R,b as I}from"./CDWtWOpw.js";import{V as m}from"./CGimk7xp.js";import{V as q,a as d}from"./Cmx4BhuN.js";import{V as G}from"./DzK2Vaqa.js";import{V as v}from"./Dt6UcgE2.js";import{V as H}from"./CCXN4q7R.js";import{l as b}from"./DKX_newj.js";import"./QTtvbP9O.js";import"./CPQ6r5fr.js";import"./BY2OCKJV.js";import"./C8wLsuJq.js";import"./DLtwXl82.js";import"./D8k_Q558.js";import"./DhWIIRAe.js";import"./Cad3nVJF.js";const J={class:"text-center"},K={key:1},Q={class:"text-center"},W={key:1},X={class:"text-center"},Y=$({__name:"index",setup(Z){const g=U(),{showConfirm:w,showSuccess:C}=E(),c=h(!1),s=F({name:"",township:null,developmentMethod:null,processingStatus:null}),S=[{title:"土地開發名稱",key:"name",align:"start",sortable:!0},{title:"鄉鎮市區",key:"township"},{title:"開發方式",key:"developmentMethod"},{title:"辦理情形",key:"processingStatus"},{title:"開發期程",key:"timeline"},{title:"開發總面積",key:"totalArea"},{title:"公共設施面積",key:"publicFacilityArea"},{title:"計畫範圍",key:"planningScope"},{title:"坐標",key:"coordinates"},{title:"施工進度",key:"constructionProgress",align:"center"},{title:"預估進度",key:"estimatedProgress",align:"center"},{title:"操作",key:"actions",align:"center",sortable:!1}],V=L,u=h(V),D=(o,e)=>!o||!e?"未設定":`${e.toFixed(6)}, ${o.toFixed(6)}`,M=()=>{g.push("/admin/land-dev/create")},P=o=>{g.push(`/admin/land-dev/edit/${o}`)},y=()=>{c.value=!0,setTimeout(()=>{let o=[...V];s.name&&(o=o.filter(e=>e.name.includes(s.name))),s.township&&(o=o.filter(e=>e.township===s.township)),s.developmentMethod&&(o=o.filter(e=>e.developmentMethod===s.developmentMethod)),s.processingStatus&&(o=o.filter(e=>e.processingStatus===s.processingStatus)),u.value=o,c.value=!1},500)},T=o=>{w("確定要刪除此筆土地開發區資料嗎？","此操作無法復原",()=>{setTimeout(()=>{u.value=u.value.filter(e=>e.id!==o),C("已成功刪除土地開發區資料")},300)})};return A(()=>{y()}),(o,e)=>(r(),p("div",null,[l(x,{class:"mb-4"},{default:n(()=>[l(R,{class:"d-flex justify-space-between align-center flex-column flex-md-row mb-4"},{default:n(()=>[e[5]||(e[5]=a("div",null,"土地開發區管理",-1)),l(m,{color:"primary","prepend-icon":"mdi-plus",onClick:M},{default:n(()=>e[4]||(e[4]=[k(" 新增土地開發區 ")])),_:1})]),_:1}),l(I,null,{default:n(()=>[l(q,null,{default:n(()=>[l(d,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(G,{modelValue:s.name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.name=t),label:"土地開發名稱",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.township,"onUpdate:modelValue":e[1]||(e[1]=t=>s.township=t),label:"鄉鎮市區",items:f(N),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.developmentMethod,"onUpdate:modelValue":e[2]||(e[2]=t=>s.developmentMethod=t),label:"開發方式",items:f(O),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",sm:"6",md:"3"},{default:n(()=>[l(v,{modelValue:s.processingStatus,"onUpdate:modelValue":e[3]||(e[3]=t=>s.processingStatus=t),label:"辦理情形",items:f(j),"item-title":"text","item-value":"value",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),l(d,{cols:"12",class:"d-flex justify-end"},{default:n(()=>[l(m,{color:"primary",onClick:y},{default:n(()=>e[6]||(e[6]=[k(" 搜尋 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(x,null,{default:n(()=>[l(H,{headers:S,items:u.value,"items-per-page":10,class:"elevation-1",loading:c.value,"item-value":"id"},{item:n(({item:t})=>[a("tr",null,[a("td",null,i(t.name),1),a("td",null,i(t.township),1),a("td",null,i(t.developmentMethod),1),a("td",null,i(t.processingStatus),1),a("td",null,i(t.timeline),1),a("td",null,i(t.totalArea||"未設定")+" 公頃",1),a("td",null,i(t.publicFacilityArea||"未設定")+" 公頃",1),a("td",null,i(t.planningScope||"無資料"),1),a("td",null,i(D(t.longitude,t.latitude)),1),a("td",J,[t.constructionProgress!==null?(r(),_(b,{key:0,"model-value":t.constructionProgress,height:"20",color:"primary",class:"mb-1"},{default:n(()=>[a("strong",null,i(t.constructionProgress)+"%",1)]),_:2},1032,["model-value"])):(r(),p("span",K,"未設定"))]),a("td",Q,[t.estimatedProgress!==null?(r(),_(b,{key:0,"model-value":t.estimatedProgress,height:"20",color:"success",class:"mb-1"},{default:n(()=>[a("strong",null,i(t.estimatedProgress)+"%",1)]),_:2},1032,["model-value"])):(r(),p("span",W,"未設定"))]),a("td",X,[l(m,{size:"default",color:"primary",variant:"text",icon:"mdi-pencil-outline",onClick:B=>P(t.id)},null,8,["onClick"]),l(m,{size:"default",color:"error",variant:"text",icon:"mdi-delete-outline",onClick:B=>T(t.id)},null,8,["onClick"])])])]),_:1},8,["items","loading"])]),_:1})]))}}),he=z(Y,[["__scopeId","data-v-d23f9945"]]);export{he as default};
