import{_ as te,C as ae,v as ne,A as w,z as n,x as H,B as J,L as $,O as C,j as S,a1 as de,o as oe,Q as L,e as le,aw as ve,ax as A,a0 as me,ay as fe,D as ge,E as he,a8 as ye,H as we,a9 as pe,F as be,r as z,G as O,az as _e,aa as Ve,aA as xe,S as ke,J as Se,am as Te,T as Ee,Z as Me,aB as Be}from"./YeoGQlxj.js";import{V as ie}from"./fvK87eYm.js";import{V as re,b as X,c as R,d as Ce,a as Pe}from"./DoD1hKfA.js";import{V as De,u as Ie,a as He,m as Le}from"./Cwa1tBl2.js";import{V as W,f as Q,d as Re,m as Ne,c as Ye}from"./DggD7ogX.js";import{q as Ae,r as Oe,b as We,f as $e,w as ze,x as Xe,v as Fe,V as qe,g as Ze,j as je,n as Ue}from"./baV1Ppzk.js";import{V as Ge,_ as Je,a as Qe}from"./CEPVB3Nf.js";import{u as Ke,m as et,V as tt}from"./BvTMXULu.js";import{a as at}from"./Dftlftkg.js";const nt={class:"d-flex align-center"},ot={class:"d-flex align-center"},lt={__name:"AdminHeader",setup(e){const s=()=>{console.log("登出")};return(o,d)=>(ne(),ae(Ge,{flat:"",color:"primary"},{default:w(()=>[n(ie,{fluid:"",class:"d-flex align-center justify-space-between"},{default:w(()=>[H("div",nt,[d[1]||(d[1]=H("div",{class:"text-white font-weight-bold text-h6 d-none d-sm-flex"}," 宜蘭縣政府地政處 ",-1)),n(re,{color:"white",variant:"text",class:"mr-auto","prepend-icon":"mdi-arrow-left",href:"/",title:"返回前台"},{default:w(()=>d[0]||(d[0]=[J(" 返回前台 ")])),_:1})]),H("div",ot,[n(De,{transition:"slide-y-transition"},{activator:w(({props:t})=>[H("div",$({class:"d-flex align-center"},t),[n(Ae,{color:"white",size:"36",class:"mr-2"},{default:w(()=>[n(W,{icon:"mdi-account",color:"primary"})]),_:1}),d[2]||(d[2]=H("div",{class:"text-white"}," 管理員 ",-1)),n(W,{icon:"mdi-chevron-down",color:"white",size:"small",class:"ml-1"})],16)]),default:w(()=>[n(X,null,{default:w(()=>[n(R,{onClick:s},{prepend:w(()=>[n(W,{icon:"mdi-logout"})]),default:w(()=>[n(Ce,null,{default:w(()=>d[3]||(d[3]=[J("登出")])),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}},it=te(lt,[["__scopeId","data-v-ef24759b"]]);function rt(e){let{rootEl:s,isSticky:o,layoutItemStyles:d}=e;const t=C(!1),u=C(0),a=S(()=>{const _=typeof t.value=="boolean"?"top":t.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[_]:de(u.value)}:{top:d.value.top}]});oe(()=>{L(o,_=>{_?window.addEventListener("scroll",k,{passive:!0}):window.removeEventListener("scroll",k)},{immediate:!0})}),le(()=>{window.removeEventListener("scroll",k)});let p=0;function k(){const _=p>window.scrollY?"up":"down",m=s.value.getBoundingClientRect(),f=parseFloat(d.value.top??0),v=window.scrollY-Math.max(0,u.value-f),g=m.height+Math.max(u.value,f)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-f?(t.value="top",u.value=f):_==="up"&&t.value==="bottom"||_==="down"&&t.value==="top"?(u.value=window.scrollY+m.top-b,t.value=!0):_==="down"&&g<=0?(u.value=0,t.value="bottom"):_==="up"&&v<=0&&(b?t.value!=="top"&&(u.value=-v+b+f,t.value="top"):(u.value=m.top+v,t.value="top")),p=window.scrollY}return{isStuck:t,stickyStyles:a}}const st=100,ut=20;function K(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ee(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const d=K(s),t=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);s+=(t-d)*Math.abs(t),o===e.length-1&&(s*=.5)}return K(s)*1e3}function ct(){const e={};function s(t){Array.from(t.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new ve(ut))).push([t.timeStamp,u])})}function o(t){Array.from(t.changedTouches).forEach(u=>{delete e[u.identifier]})}function d(t){var _;const u=(_=e[t])==null?void 0:_.values().reverse();if(!u)throw new Error(`No samples for touch id ${t}`);const a=u[0],p=[],k=[];for(const m of u){if(a[0]-m[0]>st)break;p.push({t:m[0],d:m[1].clientX}),k.push({t:m[0],d:m[1].clientY})}return{x:ee(p),y:ee(k),get direction(){const{x:m,y:f}=this,[v,g]=[Math.abs(m),Math.abs(f)];return v>g&&m>=0?"right":v>g&&m<=0?"left":g>v&&f>=0?"down":g>v&&f<=0?"up":dt()}}}return{addMovement:s,endTouch:o,getVelocity:d}}function dt(){throw new Error}function vt(e){let{el:s,isActive:o,isTemporary:d,width:t,touchless:u,position:a}=e;oe(()=>{window.addEventListener("touchstart",E,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),le(()=>{window.removeEventListener("touchstart",E),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",N)});const p=S(()=>["left","right"].includes(a.value)),{addMovement:k,endTouch:_,getVelocity:m}=ct();let f=!1;const v=C(!1),g=C(0),b=C(0);let x;function P(l,i){return(a.value==="left"?l:a.value==="right"?document.documentElement.clientWidth-l:a.value==="top"?l:a.value==="bottom"?document.documentElement.clientHeight-l:B())-(i?t.value:0)}function D(l){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=a.value==="left"?(l-b.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-l-b.value)/t.value:a.value==="top"?(l-b.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-l-b.value)/t.value:B();return i?Math.max(0,Math.min(1,r)):r}function E(l){if(u.value)return;const i=l.changedTouches[0].clientX,r=l.changedTouches[0].clientY,c=25,h=a.value==="left"?i<c:a.value==="right"?i>document.documentElement.clientWidth-c:a.value==="top"?r<c:a.value==="bottom"?r>document.documentElement.clientHeight-c:B(),y=o.value&&(a.value==="left"?i<t.value:a.value==="right"?i>document.documentElement.clientWidth-t.value:a.value==="top"?r<t.value:a.value==="bottom"?r>document.documentElement.clientHeight-t.value:B());(h||y||o.value&&d.value)&&(x=[i,r],b.value=P(p.value?i:r,o.value),g.value=D(p.value?i:r),f=b.value>-20&&b.value<80,_(l),k(l))}function T(l){const i=l.changedTouches[0].clientX,r=l.changedTouches[0].clientY;if(f){if(!l.cancelable){f=!1;return}const h=Math.abs(i-x[0]),y=Math.abs(r-x[1]);(p.value?h>y&&h>3:y>h&&y>3)?(v.value=!0,f=!1):(p.value?y:h)>3&&(f=!1)}if(!v.value)return;l.preventDefault(),k(l);const c=D(p.value?i:r,!1);g.value=Math.max(0,Math.min(1,c)),c>1?b.value=P(p.value?i:r,!0):c<0&&(b.value=P(p.value?i:r,!1))}function N(l){if(f=!1,!v.value)return;k(l),v.value=!1;const i=m(l.changedTouches[0].identifier),r=Math.abs(i.x),c=Math.abs(i.y);(p.value?r>c&&r>400:c>r&&c>3)?o.value=i.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||B()):o.value=g.value>.5}const I=S(()=>v.value?{transform:a.value==="left"?`translateX(calc(-100% + ${g.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${g.value*t.value}px))`:a.value==="top"?`translateY(calc(-100% + ${g.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${g.value*t.value}px))`:B(),transition:"none"}:void 0);return A(v,()=>{var r,c;const l=((r=s.value)==null?void 0:r.style.transform)??null,i=((c=s.value)==null?void 0:c.style.transition)??null;me(()=>{var h,y,M,Y;(y=s.value)==null||y.style.setProperty("transform",((h=I.value)==null?void 0:h.transform)||"none"),(Y=s.value)==null||Y.style.setProperty("transition",((M=I.value)==null?void 0:M.transition)||null)}),fe(()=>{var h,y;(h=s.value)==null||h.style.setProperty("transform",l),(y=s.value)==null||y.style.setProperty("transition",i)})}),{isDragging:v,dragProgress:g,dragStyles:I}}function B(){throw new Error}const mt=["start","end","left","right","top","bottom"],ft=he({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>mt.includes(e)},sticky:Boolean,...Ue(),...Ye(),...Le(),...Te({mobile:null}),...je(),...et(),...Ze(),...Ne({tag:"nav"}),...Se()},"VNavigationDrawer"),gt=ge()({name:"VNavigationDrawer",props:ft(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:o,emit:d,slots:t}=s;const{isRtl:u}=ye(),{themeClasses:a}=we(e),{borderClasses:p}=Oe(e),{backgroundColorClasses:k,backgroundColorStyles:_}=Q(()=>e.color),{elevationClasses:m}=We(e),{displayClasses:f,mobile:v}=pe(e),{roundedClasses:g}=$e(e),b=ze(),x=be(e,"modelValue",null,V=>!!V),{ssrBootStyles:P}=at(),{scopeId:D}=Ie(),E=z(),T=C(!1),{runOpenDelay:N,runCloseDelay:I}=He(e,V=>{T.value=V}),l=S(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),i=S(()=>Xe(e.location,u.value)),r=O(()=>e.persistent),c=S(()=>!e.permanent&&(v.value||e.temporary)),h=S(()=>e.sticky&&!c.value&&i.value!=="bottom");A(()=>e.expandOnHover&&e.rail!=null,()=>{L(T,V=>d("update:rail",!V))}),A(()=>!e.disableResizeWatcher,()=>{L(c,V=>!e.permanent&&Ee(()=>x.value=!V))}),A(()=>!e.disableRouteWatcher&&!!b,()=>{L(b.currentRoute,()=>c.value&&(x.value=!1))}),L(()=>e.permanent,V=>{V&&(x.value=!0)}),e.modelValue==null&&!c.value&&(x.value=e.permanent||!v.value);const{isDragging:y,dragProgress:M}=vt({el:E,isActive:x,isTemporary:c,width:l,touchless:O(()=>e.touchless),position:i}),Y=S(()=>{const V=c.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):l.value;return y.value?V*M.value:V}),{layoutItemStyles:F,layoutItemScrimStyles:se}=Ke({id:e.name,order:S(()=>parseInt(e.order,10)),position:i,layoutSize:Y,elementSize:l,active:_e(x),disableTransitions:O(()=>y.value),absolute:S(()=>e.absolute||h.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:ue}=rt({rootEl:E,isSticky:h,layoutItemStyles:F}),Z=Q(()=>typeof e.scrim=="string"?e.scrim:null),ce=S(()=>({...y.value?{opacity:M.value*.2,transition:"none"}:void 0,...se.value}));return Ve({VList:{bgColor:"transparent"}}),Re(()=>{const V=t.image||e.image;return n(ke,null,[n(e.tag,$({ref:E,onMouseenter:N,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${i.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":c.value,"v-navigation-drawer--persistent":r.value,"v-navigation-drawer--active":x.value,"v-navigation-drawer--sticky":h.value},a.value,k.value,p.value,f.value,m.value,g.value,e.class],style:[_.value,F.value,P.value,ue.value,e.style]},D,o),{default:()=>{var j,U,G;return[V&&n("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?n(qe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):n(Fe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&n("div",{class:"v-navigation-drawer__prepend"},[(j=t.prepend)==null?void 0:j.call(t)]),n("div",{class:"v-navigation-drawer__content"},[(U=t.default)==null?void 0:U.call(t)]),t.append&&n("div",{class:"v-navigation-drawer__append"},[(G=t.append)==null?void 0:G.call(t)])]}}),n(xe,{name:"fade-transition"},{default:()=>[c.value&&(y.value||x.value)&&!!e.scrim&&n("div",$({class:["v-navigation-drawer__scrim",Z.backgroundColorClasses.value],style:[ce.value,Z.backgroundColorStyles.value],onClick:()=>{r.value||(x.value=!1)}},D),null)]})])}),{isStuck:q}}}),ht={__name:"admin",setup(e){const s=z(!0),o=z(!1);return(d,t)=>{const u=it;return ne(),ae(Qe,null,{default:w(()=>[n(u),n(gt,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=a=>s.value=a),rail:o.value,permanent:"",width:280,onClick:t[2]||(t[2]=a=>o.value=!1)},{default:w(()=>[n(X,null,{default:w(()=>[n(R,{"prepend-avatar":Je,title:o.value?"":"土地開發後台管理"},{append:w(()=>[n(re,{variant:"text",icon:"mdi-chevron-left",onClick:t[0]||(t[0]=Me(a=>o.value=!o.value,["stop"]))})]),_:1},8,["title"])]),_:1}),n(Pe),n(X,{density:"compact",nav:""},{default:w(()=>[n(R,{to:"/admin","prepend-icon":"mdi-home",title:"首頁"}),n(R,{to:"/admin/permissions","prepend-icon":"mdi-account-key",title:"帳號管理"}),n(R,{to:"/admin/land-dev","prepend-icon":"mdi-map",title:"土地開發區管理"})]),_:1})]),_:1},8,["modelValue","rail"]),n(tt,null,{default:w(()=>[n(ie,{fluid:""},{default:w(()=>[Be(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}},Tt=te(ht,[["__scopeId","data-v-6cc3e855"]]);export{Tt as default};
