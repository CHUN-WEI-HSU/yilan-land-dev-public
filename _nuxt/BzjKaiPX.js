import{e as X}from"./Ba_gg6Bw.js";import{f as Y}from"./DlQCJ7AR.js";import{l as j}from"./BNCPP-Lc.js";function B(u,n,g,y,r,x,c){const w=(g-n)/y;if(w<3){for(;n<g;n+=y)x[c++]=u[n],x[c++]=u[n+1];return c}const h=new Array(w);h[0]=1,h[w-1]=1;const q=[n,g-y];let k=0;for(;q.length>0;){const A=q.pop(),I=q.pop();let N=0;const P=u[I],R=u[I+1],v=u[A],L=u[A+1];for(let D=I+y;D<A;D+=y){const b=u[D],S=u[D+1],E=X(b,S,P,R,v,L);E>N&&(k=D,N=E)}N>r&&(h[(k-n)/y]=1,I+y<k&&q.push(I,k),k+y<A&&q.push(k,A))}for(let A=0;A<w;++A)h[A]&&(x[c++]=u[n+A*y],x[c++]=u[n+A*y+1]);return c}function U(u,n,g,y,r,x,c,w){for(let h=0,q=g.length;h<q;++h){const k=g[h];c=B(u,n,k,y,r,x,c),w.push(c),n=k}return c}function M(u,n){return n*Math.round(u/n)}function G(u,n,g,y,r,x,c){if(n==g)return c;let w=M(u[n],r),h=M(u[n+1],r);n+=y,x[c++]=w,x[c++]=h;let q,k;do if(q=M(u[n],r),k=M(u[n+1],r),n+=y,n==g)return x[c++]=q,x[c++]=k,c;while(q==w&&k==h);for(;n<g;){const A=M(u[n],r),I=M(u[n+1],r);if(n+=y,A==q&&I==k)continue;const N=q-w,P=k-h,R=A-w,v=I-h;if(N*v==P*R&&(N<0&&R<N||N==R||N>0&&R>N)&&(P<0&&v<P||P==v||P>0&&v>P)){q=A,k=I;continue}x[c++]=q,x[c++]=k,w=q,h=k,q=A,k=I}return x[c++]=q,x[c++]=k,c}function V(u,n,g,y,r,x,c,w){for(let h=0,q=g.length;h<q;++h){const k=g[h];c=G(u,n,k,y,r,x,c),w.push(c),n=k}return c}function H(u,n,g,y,r,x,c){let w,h,q,k,A,I,N;const P=r[x+1],R=[];for(let D=0,b=g.length;D<b;++D){const S=g[D];for(k=u[S-y],I=u[S-y+1],w=n;w<S;w+=y)A=u[w],N=u[w+1],(P<=I&&N<=P||I<=P&&P<=N)&&(q=(P-I)/(N-I)*(A-k)+k,R.push(q)),k=A,I=N}let v=NaN,L=-1/0;for(R.sort(Y),k=R[0],w=1,h=R.length;w<h;++w){A=R[w];const D=Math.abs(A-k);D>L&&(q=(k+A)/2,j(u,n,g,y,q,P)&&(v=q,L=D)),k=A}return isNaN(v)&&(v=r[x]),c?(c.push(v,P,L),c):[v,P,L]}function W(u,n,g,y,r){let x=[];for(let c=0,w=g.length;c<w;++c){const h=g[c];x=H(u,n,h,y,r,2*c,x),n=h[h.length-1]}return x}function J(u,n,g,y){for(;n<g-y;){for(let r=0;r<y;++r){const x=u[n+r];u[n+r]=u[g-y+r],u[g-y+r]=x}n+=y,g-=y}}function z(u,n,g,y){let r=0,x=u[g-y],c=u[g-y+1];for(;n<g;n+=y){const w=u[n],h=u[n+1];r+=(w-x)*(h+c),x=w,c=h}return r===0?void 0:r>0}function Z(u,n,g,y,r){r=r!==void 0?r:!1;for(let x=0,c=g.length;x<c;++x){const w=g[x],h=z(u,n,w,y);if(x===0){if(r&&h||!r&&!h)return!1}else if(r&&!h||!r&&h)return!1;n=w}return!0}function _(u,n,g,y,r){r=r!==void 0?r:!1;for(let x=0,c=g.length;x<c;++x){const w=g[x],h=z(u,n,w,y);(x===0?r&&h||!r&&!h:r&&!h||!r&&h)&&J(u,n,w,y),n=w}return n}function $(u,n){const g=[];let y=0,r=0,x;for(let c=0,w=n.length;c<w;++c){const h=n[c],q=z(u,y,h,2);if(x===void 0&&(x=q),q===x)g.push(n.slice(r,c+1));else{if(g.length===0)continue;g[g.length-1].push(n[r])}r=c+1,y=h}return g}export{W as a,U as b,B as d,H as g,$ as i,Z as l,_ as o,V as q,M as s};
