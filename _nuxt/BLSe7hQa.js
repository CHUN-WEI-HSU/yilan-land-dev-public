const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B9ehTk3B.js","./D_H-TlYt.js","./sIom5plQ.js","./DlQCJ7AR.js","./ejpV0U7u.js","./DENk7BAX.js","./Qw0ERTDl.js","./Ba_gg6Bw.js","./1jRA9jIJ.js","./DCo6-o3V.js","./BNCPP-Lc.js","./C36fph0B.js","./JfErLOBA.js","./CiY_2Xgg.js","./BzjKaiPX.js","./BzSfo5GL.js","./jmR2vRPQ.js","./BDylbOZ5.js","./DgWwiSy2.js","./CgFMaaih.js","./jYV8uuws.js","./Bmodg22F.js","./CbYgpGkP.js","./CP3RsawU.js","./RoJ5VfqY.js","./CD9B3Ba2.js","./DSyt37PD.js","./D6LCqxrC.js","./BBpT9Yzp.js","./WbbB1XLM.js"])))=>i.map(i=>d[i]);
import{_ as oe,r as v,Q as X,t as V,v as m,x as a,S as q,$ as Q,aq as ie,ar as Y,y as i,o as ue,as as r,at as de,a9 as re,j as ce,C as F,A as n,z as s,au as J,B}from"./D0UG6bZz.js";import{V as fe}from"./CEkwgJIC.js";import{V as me,a as K}from"./B0NSncsH.js";import{V as W}from"./CFD_vZoV.js";import{V as $,a as U,b as N}from"./BgYkF0es.js";import{a as j,b as pe,c as _e,V as ve}from"./RquQ-slm.js";import{V as we}from"./CLZtlTzD.js";import{V as ye}from"./CGtYZ2x5.js";import"./UBcuvIsH.js";import"./CSi8b4_d.js";const ge={class:"status-selector-container"},he={class:"status-selector"},Ve=["onClick"],ze={__name:"StatusSelector",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[{label:"規劃中",value:"規劃中",color:"#a5b4fc"},{label:"辦理中",value:"辦理中",color:"#fdba74"},{label:"已完成",value:"已完成",color:"#f87171"}]}},emits:["update:modelValue","filter"],setup(M,{emit:L}){const z=M,b=L,c=v(z.modelValue);X(()=>z.modelValue,p=>{c.value=p});const x=p=>{const _=c.value.indexOf(p);_===-1?c.value.push(p):c.value.splice(_,1),b("update:modelValue",c.value),b("filter",c.value)};return(p,_)=>(m(),V("div",ge,[a("div",he,[(m(!0),V(q,null,Q(M.options,w=>(m(),V("div",{key:w.value,class:Y(["status-item",{"status-selected":c.value.includes(w.value)}]),style:ie({backgroundColor:w.color}),onClick:k=>x(w.value)},i(w.label),15,Ve))),128))])]))}},be=oe(ze,[["__scopeId","data-v-343a8cad"]]),xe={class:"map-filters d-none d-md-block"},Ee={class:"map-filters-mobile d-md-none"},Le={class:"location-header"},Se={class:"location-text text-white"},Be={class:"project-title"},Me={class:"status-chip"},ke={class:"info-grid"},Ce={class:"info-value"},De={class:"info-value"},Ie={class:"info-value"},Te={class:"info-value"},Ae={class:"info-value"},Oe={class:"info-value"},Pe={class:"info-value"},Re={class:"ml-auto text-subtitle-2"},Fe=["onClick"],$e={key:0,class:"no-data-message"},We={__name:"map",setup(M){let L,z,b,c,x,p,_,w,k,C,D;ue(async()=>{L=(await r(async()=>{const{default:t}=await import("./B9ehTk3B.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]),import.meta.url)).default,z=(await r(async()=>{const{default:t}=await import("./Qw0ERTDl.js").then(e=>e.e);return{default:t}},__vite__mapDeps([6,2,3,7,8,9,10,11,12,13,14]),import.meta.url)).default,b=(await r(async()=>{const{default:t}=await import("./CbYgpGkP.js");return{default:t}},__vite__mapDeps([22,23,4,3,5,9,8,7,10,12,24,16,18,6,2,11,13,14]),import.meta.url)).default,c=(await r(async()=>{const{default:t}=await import("./CD9B3Ba2.js");return{default:t}},__vite__mapDeps([25,8,7,4,3,23,5,9,10,12,26,2]),import.meta.url)).default,x=(await r(async()=>{const{default:t}=await import("./D6LCqxrC.js");return{default:t}},__vite__mapDeps([27,2,3]),import.meta.url)).default,p=(await r(async()=>{const{default:t}=await import("./C36fph0B.js").then(e=>e.b);return{default:t}},__vite__mapDeps([11,8,7,3,2,12,13]),import.meta.url)).default,{fromLonLat:_}=await r(()=>import("./1jRA9jIJ.js").then(t=>t.a5),__vite__mapDeps([8,7]),import.meta.url),w=(await r(async()=>{const{default:t}=await import("./BBpT9Yzp.js");return{default:t}},__vite__mapDeps([28,6,2,3,7,8,9,10,11,12,13,14,4,18,15,16,17,24,21,19,20]),import.meta.url)).default,k=(await r(async()=>{const{default:t}=await import("./WbbB1XLM.js");return{default:t}},__vite__mapDeps([29,1,2,3,8,7,14,10,13,12,20,26]),import.meta.url)).default,C=(await r(async()=>{const{default:t}=await import("./BzSfo5GL.js").then(e=>e.z);return{default:t}},__vite__mapDeps([15,3,16,4,7,17,2]),import.meta.url)).default,D=(await r(async()=>{const{default:t}=await import("./Bmodg22F.js");return{default:t}},__vite__mapDeps([21,16,4,3,7,17]),import.meta.url)).default,f.value=se(),window.addEventListener("resize",()=>{f.value&&f.value.updateSize()})}),de(()=>{window.removeEventListener("resize",()=>{}),f.value&&(f.value.setTarget(null),f.value=null)});const Z=v(null),f=v(null),I=v(null),{mdAndUp:G}=re(),T=[{label:"規劃中",value:"規劃中",color:"#a5b4fc"},{label:"辦理中",value:"辦理中",color:"#fdba74"},{label:"已完成",value:"已完成",color:"#f87171"}],A=v(null),O=v(null),y=v([]),S=v([{id:1,name:"北成",township:"羅東鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"已完成",coordinates:[121.771,24.677],area:"12.5",timeline:"108年1月至110年12月",organizer:"宜蘭縣政府",files:[{name:"北成重劃計畫書.pdf",type:"pdf",size:"2.5 MB"},{name:"北成地籍圖.dwg",type:"dwg",size:"4.2 MB"}]},{id:2,name:"羅莊",township:"羅東鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"已完成",coordinates:[121.765,24.672],area:"8.3",timeline:"107年3月至109年6月",organizer:"宜蘭縣政府",files:[{name:"羅莊重劃計畫書.pdf",type:"pdf",size:"3.1 MB"}]},{id:3,name:"礁溪湯圍溫泉渡",township:"礁溪鄉",county:"宜蘭縣",method:"公辦市地重劃",status:"已完成",coordinates:[121.772,24.825],area:"15.2",timeline:"106年5月至109年12月",organizer:"宜蘭縣政府",files:[{name:"礁溪湯圍溫泉渡重劃計畫書.pdf",type:"pdf",size:"4.7 MB"},{name:"礁溪湯圍溫泉渡環評報告.pdf",type:"pdf",size:"8.3 MB"}]},{id:4,name:"宜蘭市運動公園附近地區(省道以西部分)",township:"宜蘭市",county:"宜蘭縣",method:"公辦市地重劃",status:"已完成",coordinates:[121.753,24.751],area:"22.7",timeline:"105年2月至108年9月",organizer:"宜蘭縣政府",files:[{name:"宜蘭市運動公園附近地區重劃計畫書.pdf",type:"pdf",size:"5.2 MB"}]},{id:5,name:"宜蘭市生物醫學產業特定專用區",township:"宜蘭市",county:"宜蘭縣",method:"公辦市地重劃",status:"待開工",coordinates:[121.748,24.758],area:"18.9",timeline:"111年7月至114年12月",organizer:"宜蘭縣政府",files:[{name:"宜蘭市生物醫學產業特定專用區重劃計畫書.pdf",type:"pdf",size:"6.8 MB"},{name:"宜蘭市生物醫學產業特定專用區環評報告.pdf",type:"pdf",size:"12.5 MB"}]},{id:6,name:"宜蘭市北津地區",township:"宜蘭市",county:"宜蘭縣",method:"公辦市地重劃",status:"興建中",coordinates:[121.752,24.765],area:"9.4",timeline:"110年4月至113年8月",organizer:"宜蘭縣政府",files:[{name:"宜蘭市北津地區重劃計畫書.pdf",type:"pdf",size:"3.8 MB"}]},{id:7,name:"羅東都市計畫(鎮路以東地區)光榮路以東",township:"羅東鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"興建中",coordinates:[121.778,24.678],area:"14.2",timeline:"110年9月至113年11月",organizer:"宜蘭縣政府",files:[{name:"羅東都市計畫(鎮路以東地區)光榮路以東重劃計畫書.pdf",type:"pdf",size:"4.5 MB"}]},{id:8,name:"羅東都市計畫(鎮路以東地區)光榮路以西",township:"羅東鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"待開工",coordinates:[121.773,24.679],area:"11.8",timeline:"111年3月至114年6月",organizer:"宜蘭縣政府",files:[{name:"羅東都市計畫(鎮路以東地區)光榮路以西重劃計畫書.pdf",type:"pdf",size:"4.2 MB"}]},{id:9,name:"宜蘭市新生地區市地重劃",township:"宜蘭市",county:"宜蘭縣",method:"公辦市地重劃",status:"規劃中",coordinates:[121.755,24.753],area:"25.3",timeline:"112年1月至115年12月(預計)",organizer:"宜蘭縣政府",files:[{name:"宜蘭市新生地區市地重劃規劃書.pdf",type:"pdf",size:"7.3 MB"},{name:"宜蘭市新生地區市地重劃初步規劃圖.dwg",type:"dwg",size:"5.6 MB"}]},{id:10,name:"冬山鄉東城開發案",township:"冬山鄉",county:"宜蘭縣",method:"公辦市地重劃",status:"規劃中",coordinates:[121.792,24.635],area:"18.7",timeline:"112年5月至115年8月(預計)",organizer:"宜蘭縣政府",files:[{name:"冬山鄉東城開發案規劃書.pdf",type:"pdf",size:"5.8 MB"}]},{id:11,name:"頭城鎮濱海新區",township:"頭城鎮",county:"宜蘭縣",method:"公辦市地重劃",status:"規劃中",coordinates:[121.823,24.859],area:"20.1",timeline:"112年3月至115年10月(預計)",organizer:"宜蘭縣政府",files:[{name:"頭城鎮濱海新區規劃書.pdf",type:"pdf",size:"6.2 MB"}]}]),g=ce(()=>{let t=[...S.value];return A.value&&(t=t.filter(e=>e.township===A.value)),O.value&&(t=t.filter(e=>e.status===O.value)),y.value&&y.value.length>0&&(t=t.filter(e=>y.value.includes(e.status))),t}),o=v(S.value[0]),P=t=>{o.value=t,f.value&&f.value.getView().animate({center:_(t.coordinates),zoom:G.value?15:14,duration:1e3})},ee=t=>{const e=T.find(u=>u.value===t);return e?e.color:"grey"},te=t=>{switch(t){case"pdf":return"mdi-file-pdf-box";case"dwg":return"mdi-file-cad-box";case"doc":case"docx":return"mdi-file-word";case"xls":case"xlsx":return"mdi-file-excel";default:return"mdi-file"}},ae=t=>{console.log("下載文件:",t.name)},R=()=>{le(),g.value.length>0&&(g.value.some(t=>t.id===o.value.id)||P(g.value[0]))},le=()=>{if(!f.value||!I.value)return;const t=g.value.map(u=>{const l=new x({geometry:new p(_(u.coordinates)),properties:{id:u.id,name:u.name,status:u.status}}),d="https://openlayers.org/en/latest/examples/data/icon.png";return l.setStyle(new C({image:new D({src:d,scale:.7})})),l}),e=I.value.getSource();if(e.clear(),e.addFeatures(t),t.length>0){const u=e.getExtent();f.value.getView().fit(u,{padding:[50,50,50,50],maxZoom:15,duration:1e3})}},se=()=>{const t=S.value.map(d=>{const h=new x({geometry:new p(_(d.coordinates)),properties:{id:d.id,name:d.name,status:d.status}});return h.setStyle(new C({image:new D({src:"https://openlayers.org/en/latest/examples/data/icon.png",scale:.7})})),h}),e=new k({features:t}),u=new w({source:e});I.value=u;const l=new L({target:Z.value,layers:[new b({source:new c}),u],view:new z({center:_(o.value.coordinates),zoom:G.value?15:14})});return l.on("click",d=>{const h=l.forEachFeatureAtPixel(d.pixel,E=>E);if(h){const E=h.get("properties");if(E&&E.id){const H=S.value.find(ne=>ne.id===E.id);H&&P(H)}}}),l};return X([A,O,y],()=>{R()}),(t,e)=>{const u=be;return m(),F(fe,{fluid:"",class:"pa-0"},{default:n(()=>[s(me,{"no-gutters":"",class:"land-development-container"},{default:n(()=>[s(K,{cols:"12",md:"6",class:"map-section"},{default:n(()=>[a("div",{ref_key:"mapElement",ref:Z,class:"map-element"},null,512),a("div",xe,[s(u,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),options:T,onFilter:R},null,8,["modelValue"])]),a("div",Ee,[s(u,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),options:T,onFilter:R},null,8,["modelValue"])])]),_:1}),s(K,{cols:"12",md:"6",class:"info-section pa-5"},{default:n(()=>[a("div",Le,[a("div",null,[a("span",Se,i(o.value.county)+" | "+i(o.value.township),1)])]),a("h1",Be,i(o.value.name),1),a("div",Me,[s(W,{class:"bg-white",color:"orange",size:t.$vuetify.display.mdAndUp?"default":"small"},{default:n(()=>[B(i(o.value.status),1)]),_:1},8,["size"])]),s($,{class:"mt-4"},{default:n(()=>[s(U,{class:"info-title"},{default:n(()=>[e[2]||(e[2]=B(" 基本資訊 ")),s(j,{class:"mt-2"})]),_:1}),s(N,null,{default:n(()=>[a("div",ke,[e[3]||(e[3]=a("div",{class:"info-label"}," 土地開發名稱： ",-1)),a("div",Ce,i(o.value.name),1),e[4]||(e[4]=a("div",{class:"info-label"}," 鄉鎮市區： ",-1)),a("div",De,i(o.value.township),1),e[5]||(e[5]=a("div",{class:"info-label"}," 開發方式： ",-1)),a("div",Ie,i(o.value.method),1),e[6]||(e[6]=a("div",{class:"info-label"}," 辦理情形： ",-1)),a("div",Te,i(o.value.status),1),e[7]||(e[7]=a("div",{class:"info-label"}," 開發面積： ",-1)),a("div",Ae,i(o.value.area)+" 公頃 ",1),e[8]||(e[8]=a("div",{class:"info-label"}," 開發期程： ",-1)),a("div",Oe,i(o.value.timeline),1),e[9]||(e[9]=a("div",{class:"info-label"}," 主辦單位： ",-1)),a("div",Pe,i(o.value.organizer),1)])]),_:1})]),_:1}),o.value.files&&o.value.files.length>0?(m(),F($,{key:0,class:"mt-4 mb-4"},{default:n(()=>[s(U,{class:"info-title"},{default:n(()=>[e[10]||(e[10]=B(" 相關檔案下載 ")),s(j,{class:"mt-2"})]),_:1}),s(N,null,{default:n(()=>[s(pe,{density:"compact"},{default:n(()=>[(m(!0),V(q,null,Q(o.value.files,(l,d)=>(m(),F(_e,{key:d,title:l.name,subtitle:l.size,onClick:h=>ae(l)},{prepend:n(()=>[s(we,{icon:te(l.type)},null,8,["icon"])]),append:n(()=>[s(ve,{icon:"mdi-download",variant:"text",density:"compact"})]),_:2},1032,["title","subtitle","onClick"]))),128))]),_:1})]),_:1})]),_:1})):J("",!0),s($,{class:"mt-4"},{default:n(()=>[s(U,{class:"info-title d-flex align-center"},{default:n(()=>[e[11]||(e[11]=a("div",null,"土地開發列表",-1)),a("div",Re," 共 "+i(g.value.length)+" 筆資料 ",1),s(j,{class:"mt-2"})]),_:1}),s(N,{class:"pa-0"},{default:n(()=>[s(ye,{density:"compact"},{default:n(()=>[e[12]||(e[12]=a("thead",null,[a("tr",null,[a("th",null,"土地開發名稱"),a("th",null,"鄉鎮市區"),a("th",null,"開發方式"),a("th",null,"辦理情形")])],-1)),a("tbody",null,[(m(!0),V(q,null,Q(g.value,(l,d)=>(m(),V("tr",{key:d,class:Y({"selected-row":o.value.id===l.id}),onClick:h=>P(l)},[a("td",null,i(l.name),1),a("td",null,i(l.township),1),a("td",null,i(l.method),1),a("td",null,[s(W,{color:ee(l.status),size:"x-small",class:"status-chip-small"},{default:n(()=>[B(i(l.status),1)]),_:2},1032,["color"])])],10,Fe))),128))])]),_:1}),g.value.length===0?(m(),V("div",$e," 沒有符合篩選條件的資料 ")):J("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{We as default};
