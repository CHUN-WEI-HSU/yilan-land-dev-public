import{I as r,a as n}from"./DYcbPNs3.js";import{g as s}from"./CBsAYBMq.js";import{g as i}from"./D391rXv1.js";import"./DGB6o809.js";import"./Ba_gg6Bw.js";class a{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new a({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const e=i(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then(()=>{this.patternImage_=null}),e.getImageState()===r.IDLE&&e.load(),e.getImageState()===r.LOADING&&(this.patternImage_=e)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?s(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:n(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}export{a as default};
