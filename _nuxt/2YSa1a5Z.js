import{_ as te,e as ae,o as ne,w,b as i,a as T,d as K,m as A,v as I,f as S,N as de,C as oe,K as R,L as le,ak as ve,al as W,O as me,h as fe,am as ge,g as he,p as ye,V as we,j as pe,W as be,q as _e,r as X,Z as O,an as Ve,X as ke,ao as xe,F as Se,l as Te,a9 as Ee,M as Ce,G as Me,ap as Be}from"./X6HiR9a0.js";import{V as ie}from"./DDsi7qit.js";import{V as re}from"./CGimk7xp.js";import{c as Pe,d as z,V as P,e as Ie,u as De,f as He,a as Le}from"./C8wLsuJq.js";import{V as $,a as J,u as Re,m as Ne,d as Ye}from"./QTtvbP9O.js";import{a as We,u as Oe,b as $e,e as Ae,x as Xe,y as ze,q as qe,V as Fe,m as Ze,h as Ue,i as je}from"./DKX_newj.js";import{V as Ge,_ as Ke,a as Je}from"./CzVvUIN3.js";import{u as Qe,m as et,V as tt}from"./BbapGgyI.js";import{u as at}from"./DLtwXl82.js";import{V as nt}from"./D8k_Q558.js";import"./CPQ6r5fr.js";import"./BY2OCKJV.js";const ot={class:"d-flex align-center"},lt={class:"d-flex align-center"},it={__name:"AdminHeader",setup(e){const s=()=>{console.log("登出")};return(n,d)=>(ne(),ae(Ge,{flat:"",color:"primary"},{default:w(()=>[i(ie,{fluid:"",class:"d-flex align-center justify-space-between"},{default:w(()=>[T("div",ot,[d[1]||(d[1]=T("div",{class:"text-white font-weight-bold text-h6 d-none d-sm-flex"}," 宜蘭縣政府地政處 ",-1)),i(re,{color:"white",variant:"text",class:"mr-auto","prepend-icon":"mdi-arrow-left",href:"/",title:"返回前台"},{default:w(()=>d[0]||(d[0]=[K(" 返回前台 ")])),_:1})]),T("div",lt,[i(Pe,{transition:"slide-y-transition"},{activator:w(({props:t})=>[T("div",A({class:"d-flex align-center"},t),[i(We,{color:"white",size:"36",class:"mr-2"},{default:w(()=>[i($,{icon:"mdi-account",color:"primary"})]),_:1}),d[2]||(d[2]=T("div",{class:"text-white"}," 管理員 ",-1)),i($,{icon:"mdi-chevron-down",color:"white",size:"small",class:"ml-1"})],16)]),default:w(()=>[i(z,null,{default:w(()=>[i(P,{onClick:s},{prepend:w(()=>[i($,{icon:"mdi-logout"})]),default:w(()=>[i(Ie,null,{default:w(()=>d[3]||(d[3]=[K("登出")])),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}},rt=te(it,[["__scopeId","data-v-ef24759b"]]);function st(e){let{rootEl:s,isSticky:n,layoutItemStyles:d}=e;const t=I(!1),u=I(0),a=S(()=>{const _=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[_]:de(u.value)}:{top:d.value.top}]});oe(()=>{R(n,_=>{_?window.addEventListener("scroll",x,{passive:!0}):window.removeEventListener("scroll",x)},{immediate:!0})}),le(()=>{window.removeEventListener("scroll",x)});let p=0;function x(){const _=p>window.scrollY?"up":"down",m=s.value.getBoundingClientRect(),f=parseFloat(d.value.top??0),v=window.scrollY-Math.max(0,u.value-f),g=m.height+Math.max(u.value,f)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-f?(t.value="top",u.value=f):_==="up"&&t.value==="bottom"||_==="down"&&t.value==="top"?(u.value=window.scrollY+m.top-b,t.value=!0):_==="down"&&g<=0?(u.value=0,t.value="bottom"):_==="up"&&v<=0&&(b?t.value!=="top"&&(u.value=-v+b+f,t.value="top"):(u.value=m.top+v,t.value="top")),p=window.scrollY}return{isStuck:t,stickyStyles:a}}const ut=100,ct=20;function Q(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ee(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const d=Q(s),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);s+=(t-d)*Math.abs(t),n===e.length-1&&(s*=.5)}return Q(s)*1e3}function dt(){const e={};function s(t){Array.from(t.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new ve(ct))).push([t.timeStamp,u])})}function n(t){Array.from(t.changedTouches).forEach(u=>{delete e[u.identifier]})}function d(t){var _;const u=(_=e[t])==null?void 0:_.values().reverse();if(!u)throw new Error(`No samples for touch id ${t}`);const a=u[0],p=[],x=[];for(const m of u){if(a[0]-m[0]>ut)break;p.push({t:m[0],d:m[1].clientX}),x.push({t:m[0],d:m[1].clientY})}return{x:ee(p),y:ee(x),get direction(){const{x:m,y:f}=this,[v,g]=[Math.abs(m),Math.abs(f)];return v>g&&m>=0?"right":v>g&&m<=0?"left":g>v&&f>=0?"down":g>v&&f<=0?"up":vt()}}}return{addMovement:s,endTouch:n,getVelocity:d}}function vt(){throw new Error}function mt(e){let{el:s,isActive:n,isTemporary:d,width:t,touchless:u,position:a}=e;oe(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),le(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",N)});const p=S(()=>["left","right"].includes(a.value)),{addMovement:x,endTouch:_,getVelocity:m}=dt();let f=!1;const v=I(!1),g=I(0),b=I(0);let k;function D(o,l){return(a.value==="left"?o:a.value==="right"?document.documentElement.clientWidth-o:a.value==="top"?o:a.value==="bottom"?document.documentElement.clientHeight-o:B())-(l?t.value:0)}function H(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=a.value==="left"?(o-b.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-o-b.value)/t.value:a.value==="top"?(o-b.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-o-b.value)/t.value:B();return l?me(r):r}function C(o){if(u.value)return;const l=o.changedTouches[0].clientX,r=o.changedTouches[0].clientY,c=25,h=a.value==="left"?l<c:a.value==="right"?l>document.documentElement.clientWidth-c:a.value==="top"?r<c:a.value==="bottom"?r>document.documentElement.clientHeight-c:B(),y=n.value&&(a.value==="left"?l<t.value:a.value==="right"?l>document.documentElement.clientWidth-t.value:a.value==="top"?r<t.value:a.value==="bottom"?r>document.documentElement.clientHeight-t.value:B());(h||y||n.value&&d.value)&&(k=[l,r],b.value=D(p.value?l:r,n.value),g.value=H(p.value?l:r),f=b.value>-20&&b.value<80,_(o),x(o))}function E(o){const l=o.changedTouches[0].clientX,r=o.changedTouches[0].clientY;if(f){if(!o.cancelable){f=!1;return}const h=Math.abs(l-k[0]),y=Math.abs(r-k[1]);(p.value?h>y&&h>3:y>h&&y>3)?(v.value=!0,f=!1):(p.value?y:h)>3&&(f=!1)}if(!v.value)return;o.preventDefault(),x(o);const c=H(p.value?l:r,!1);g.value=Math.max(0,Math.min(1,c)),c>1?b.value=D(p.value?l:r,!0):c<0&&(b.value=D(p.value?l:r,!1))}function N(o){if(f=!1,!v.value)return;x(o),v.value=!1;const l=m(o.changedTouches[0].identifier),r=Math.abs(l.x),c=Math.abs(l.y);(p.value?r>c&&r>400:c>r&&c>3)?n.value=l.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||B()):n.value=g.value>.5}const L=S(()=>v.value?{transform:a.value==="left"?`translateX(calc(-100% + ${g.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${g.value*t.value}px))`:a.value==="top"?`translateY(calc(-100% + ${g.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${g.value*t.value}px))`:B(),transition:"none"}:void 0);return W(v,()=>{var r,c;const o=((r=s.value)==null?void 0:r.style.transform)??null,l=((c=s.value)==null?void 0:c.style.transition)??null;fe(()=>{var h,y,M,Y;(y=s.value)==null||y.style.setProperty("transform",((h=L.value)==null?void 0:h.transform)||"none"),(Y=s.value)==null||Y.style.setProperty("transition",((M=L.value)==null?void 0:M.transition)||null)}),ge(()=>{var h,y;(h=s.value)==null||h.style.setProperty("transform",o),(y=s.value)==null||y.style.setProperty("transition",l)})}),{isDragging:v,dragProgress:g,dragStyles:L}}function B(){throw new Error}const ft=["start","end","left","right","top","bottom"],gt=ye({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ft.includes(e)},sticky:Boolean,...je(),...Ye(),...Le(),...Ee({mobile:null}),...Ue(),...et(),...Ze(),...Ne({tag:"nav"}),...Te()},"VNavigationDrawer"),ht=he()({name:"VNavigationDrawer",props:gt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:n,emit:d,slots:t}=s;const{isRtl:u}=we(),{themeClasses:a}=pe(e),{borderClasses:p}=Oe(e),{backgroundColorClasses:x,backgroundColorStyles:_}=J(()=>e.color),{elevationClasses:m}=$e(e),{displayClasses:f,mobile:v}=be(e),{roundedClasses:g}=Ae(e),b=Xe(),k=_e(e,"modelValue",null,V=>!!V),{ssrBootStyles:D}=at(),{scopeId:H}=De(),C=X(),E=I(!1),{runOpenDelay:N,runCloseDelay:L}=He(e,V=>{E.value=V}),o=S(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),l=S(()=>ze(e.location,u.value)),r=O(()=>e.persistent),c=S(()=>!e.permanent&&(v.value||e.temporary)),h=S(()=>e.sticky&&!c.value&&l.value!=="bottom");W(()=>e.expandOnHover&&e.rail!=null,()=>{R(E,V=>d("update:rail",!V))}),W(()=>!e.disableResizeWatcher,()=>{R(c,V=>!e.permanent&&Ce(()=>k.value=!V))}),W(()=>!e.disableRouteWatcher&&!!b,()=>{R(b.currentRoute,()=>c.value&&(k.value=!1))}),R(()=>e.permanent,V=>{V&&(k.value=!0)}),e.modelValue==null&&!c.value&&(k.value=e.permanent||!v.value);const{isDragging:y,dragProgress:M}=mt({el:C,isActive:k,isTemporary:c,width:o,touchless:O(()=>e.touchless),position:l}),Y=S(()=>{const V=c.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):o.value;return y.value?V*M.value:V}),{layoutItemStyles:q,layoutItemScrimStyles:se}=Qe({id:e.name,order:S(()=>parseInt(e.order,10)),position:l,layoutSize:Y,elementSize:o,active:Ve(k),disableTransitions:O(()=>y.value),absolute:S(()=>e.absolute||h.value&&typeof F.value!="string")}),{isStuck:F,stickyStyles:ue}=st({rootEl:C,isSticky:h,layoutItemStyles:q}),Z=J(()=>typeof e.scrim=="string"?e.scrim:null),ce=S(()=>({...y.value?{opacity:M.value*.2,transition:"none"}:void 0,...se.value}));return ke({VList:{bgColor:"transparent"}}),Re(()=>{const V=t.image||e.image;return T(Se,null,[i(e.tag,A({ref:C,onMouseenter:N,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${l.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":c.value,"v-navigation-drawer--persistent":r.value,"v-navigation-drawer--active":k.value,"v-navigation-drawer--sticky":h.value},a.value,x.value,p.value,f.value,m.value,g.value,e.class],style:[_.value,q.value,D.value,ue.value,e.style]},H,n),{default:()=>{var U,j,G;return[V&&T("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?i(Fe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):i(qe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[(U=t.prepend)==null?void 0:U.call(t)]),T("div",{class:"v-navigation-drawer__content"},[(j=t.default)==null?void 0:j.call(t)]),t.append&&T("div",{class:"v-navigation-drawer__append"},[(G=t.append)==null?void 0:G.call(t)])]}}),i(xe,{name:"fade-transition"},{default:()=>[c.value&&(y.value||k.value)&&!!e.scrim&&T("div",A({class:["v-navigation-drawer__scrim",Z.backgroundColorClasses.value],style:[ce.value,Z.backgroundColorStyles.value],onClick:()=>{r.value||(k.value=!1)}},H),null)]})])}),{isStuck:F}}}),yt={__name:"admin",setup(e){const s=X(!0),n=X(!1);return(d,t)=>{const u=rt;return ne(),ae(Je,null,{default:w(()=>[i(u),i(ht,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=a=>s.value=a),rail:n.value,permanent:"",width:280,onClick:t[2]||(t[2]=a=>n.value=!1)},{default:w(()=>[i(z,null,{default:w(()=>[i(P,{"prepend-avatar":Ke,title:n.value?"":"土地開發後台管理"},{append:w(()=>[i(re,{variant:"text",icon:"mdi-chevron-left",onClick:t[0]||(t[0]=Me(a=>n.value=!n.value,["stop"]))})]),_:1},8,["title"])]),_:1}),i(nt),i(z,{density:"compact",nav:""},{default:w(()=>[i(P,{to:"/admin","prepend-icon":"mdi-home",title:"首頁"}),i(P,{to:"/admin/permissions","prepend-icon":"mdi-account-key",title:"帳號管理"}),i(P,{to:"/admin/land-dev","prepend-icon":"mdi-map",title:"土地開發區管理"}),i(P,{to:"/admin/parameters","prepend-icon":"mdi-cog",title:"參數管理"})]),_:1})]),_:1},8,["modelValue","rail"]),i(tt,null,{default:w(()=>[i(ie,{fluid:""},{default:w(()=>[Be(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}},Bt=te(yt,[["__scopeId","data-v-d1575eeb"]]);export{Bt as default};
